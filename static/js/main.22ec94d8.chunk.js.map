{"version":3,"sources":["assets/img/basis-cash-logo.svg","assets/img/basis-share-logo.svg","assets/img/Goswap-logo-GOT.png","assets/img/farmer.png","assets/img/basis-bond-logo.svg","assets/img/ycrv.png","assets/img/DAI.png","assets/img/sUSD.png","assets/img/USDC.png","assets/img/USDT.png","contexts/Banks/context.ts","basis-cash/config.ts","basis-cash/ether-utils.ts","basis-cash/ERC20.ts","utils/formatBalance.ts","config.ts","utils/provider.ts","basis-cash/BasisCash.ts","contexts/BasisCashProvider/BasisCashProvider.tsx","hooks/useBasisCash.ts","contexts/Banks/Banks.tsx","contexts/Modals/Modals.tsx","components/Footer/components/Nav.tsx","components/Footer/Footer.tsx","components/Container/Container.tsx","components/Logo/Logo.tsx","hooks/useModal.ts","components/Button/Button.tsx","hooks/useTokenBalance.ts","components/Label/Label.tsx","components/Card/Card.tsx","components/CardContent/CardContent.tsx","components/Modal/Modal.tsx","components/ModalTitle/ModalTitle.tsx","components/TokenSymbol/TokenSymbol.tsx","components/TopBar/components/AccountModal.tsx","components/TopBar/components/AccountButton.tsx","components/TopBar/components/Nav.tsx","state/transactions/actions.ts","state/transactions/hooks.tsx","components/MiniLoader/index.tsx","components/Row/index.tsx","components/TopBar/components/Transaction.tsx","components/ModalActions/ModalActions.tsx","components/Spacer/Spacer.tsx","components/TopBar/components/TxModal.tsx","components/TopBar/components/TxButton.tsx","components/TopBar/TopBar.tsx","components/Page/Page.tsx","components/PageHeader/PageHeader.tsx","components/CardIcon/CardIcon.tsx","components/Value/Value.tsx","hooks/useEarnings.ts","state/application/actions.ts","state/application/hooks.ts","hooks/useHandleTransactionReceipt.ts","hooks/useHarvest.ts","views/Bank/components/Harvest.tsx","components/Icon/Icon.tsx","components/icons/AddIcon.tsx","components/icons/RemoveIcon.tsx","components/IconButton/IconButton.tsx","hooks/useApprove.ts","hooks/useAllowance.ts","hooks/useStake.ts","hooks/useStakedBalance.ts","hooks/useWithdraw.ts","components/Input/Input.tsx","components/TokenInput/TokenInput.tsx","views/Bank/components/DepositModal.tsx","views/Bank/components/WithdrawModal.tsx","views/Bank/components/Stake.tsx","hooks/useBank.ts","hooks/useRedeem.ts","views/Bank/Bank.tsx","hooks/useBanks.ts","components/Notice/Notice.tsx","views/Banks/BankCards.tsx","views/Banks/Banks.tsx","views/Home/components/HomeCard.tsx","views/Home/Home.tsx","views/Bond/components/ExchangeModal.tsx","hooks/useCatchError.ts","views/Bond/components/ExchangeCard.tsx","hooks/useBondStats.ts","hooks/useBondOraclePriceInLastTWAP.ts","components/Dial/Dial.tsx","components/LaunchCountdown/LaunchCountdown.tsx","components/LaunchCountdown/index.ts","views/Bond/components/ExchangeStat.tsx","basis-cash/constants.ts","views/Bond/Bond.tsx","state/transactions/reducer.ts","state/application/reducer.ts","state/index.ts","theme/colors.ts","theme/index.ts","hooks/useIsWindowVisible.ts","state/application/updater.ts","hooks/useDebounce.ts","state/transactions/updater.tsx","state/Updaters.tsx","hooks/useHarvestFromBoardroom.ts","hooks/useEarningsOnBoardroom.ts","views/Boardroom/components/Harvest.tsx","hooks/useHarvestFromLpBoardroom.ts","hooks/useEarningsOnLpBoardroom.ts","views/Boardroom/components/LpHarvest.tsx","views/Boardroom/components/DepositModal.tsx","views/Boardroom/components/WithdrawModal.tsx","hooks/useStakedBalanceOnBoardroom.ts","hooks/useStakeToBoardroom.ts","hooks/useWithdrawFromBoardroom.ts","hooks/useBoardroomVersion.ts","hooks/useRedeemOnBoardroom.ts","views/Boardroom/components/Stake.tsx","hooks/useStakedBalanceOnLpBoardroom.ts","hooks/useStakeToLpBoardroom.ts","hooks/useWithdrawFromLpBoardroom.ts","hooks/useRedeemOnLpBoardroom.ts","views/Boardroom/components/LpStake.tsx","views/Boardroom/components/Stat.tsx","views/Boardroom/components/ProgressCountdown.tsx","hooks/useCashPriceInEstimatedTWAP.ts","hooks/useTreasuryAmount.ts","hooks/useTreasuryAllocationTimes.ts","views/Boardroom/Boardroom.tsx","components/Column/index.tsx","components/Popups/TransactionPopup.tsx","components/Popups/ErrorPopup.tsx","components/Popups/PopupItem.tsx","components/Popups/index.tsx","App.tsx","index.tsx"],"names":["module","exports","context","createContext","banks","defaultEthereumConfig","testing","autoGasMultiplier","defaultConfirmations","defaultGas","defaultGasPrice","ethereumNodeTimeout","decimalToBalance","d","decimals","parseUnits","String","ERC20","address","provider","symbol","decimal","contract","this","Contract","ABI","signerOrProvider","totalSupply","account","balanceOf","recipient","amount","transfer","owner","spender","allowance","approve","sender","transferFro","balance","formatUnits","supply","Number","toFixed","estimateGas","name","type","anonymous","inputs","indexed","internalType","constant","outputs","payable","stateMutability","getDisplayBalance","fractionDigits","number","getBalance","getFullDisplayBalance","div","BigNumber","from","pow","toNumber","configurations","development","chainId","ChainId","HECOTEST","etherscanUrl","defaultProvider","deployments","require","externalTokens","DAI","HUSD","yCRV","SUSD","USDC","USDT","baseLaunchDate","Date","bondLaunchesAt","boardroomLaunchesAt","refreshInterval","gasLimitMultiplier","production","HECOMAIN","bankDefinitions","HUSDGOCLPTokenSharePool","depositTokenName","earnTokenName","finished","sort","HUSDGOSLPTokenSharePool","HTHUSDLPTokenGOTPool","GOTHUSDLPTokenGOTPool","getDefaultProvider","ethers","providers","Web3Provider","endpoint","config","ethConfig","Object","assign","includes","Web3","WebsocketProvider","HttpProvider","timeout","web3ProviderFrom","BasisCash","cfg","myAccount","signer","contracts","boardroomVersionOfUser","bacDai","GOC","GOS","GOB","GOSLP","entries","deployment","abi","Cash","Share","Bond","GosLp","IUniswapV2PairABI","newProvider","getSigner","connect","tokens","values","gas","multiplied","Math","floor","console","log","gasLimit","displayedTotalSupply","getTokenPriceFromUniswap","priceInDAI","SeigniorageOracle","expectedPrice","utils","parseEther","Treasury","getSeigniorageOraclePrice","getOraclePrice","getOraclePriceInLastTWAP","cashPrice","bondPrice","tokenContract","ready","husd","Token","token","Fetcher","fetchPairData","husdToToken","priceInHUSD","Route","midPrice","toSignificant","error","buyBonds","redeemBonds","poolName","pool","earned","stack","stake","gasOptions","withdraw","getReward","exit","version","lpBoardroom","shareBoardroom","Error","boardroomByVersion","Boardroom","currentBoardroom","currentLpBoardroom","canWithdraw","getCanWithdrawTime","claimReward","nextEpochPoint","nextEpochTimestamp","getPeriod","period","nextAllocation","mul","prevAllocation","getTime","Context","basisCash","BasisCashProvider","children","useWallet","ethereum","useState","setBasisCash","useEffect","unlockWallet","basis","Provider","value","useBasisCash","useContext","Banks","setBanks","fetchPools","useCallback","a","bankInfo","isUnlocked","stakedBalanceOnBank","lte","push","depositToken","earnToken","b","catch","err","onPresent","onDismiss","StyledModalWrapper","styled","StyledModalBackdrop","Modals","isOpen","setIsOpen","content","setContent","handlePresent","modalContent","handleDismiss","undefined","onClick","React","isValidElement","cloneElement","StyledNav","nav","StyledLink","props","theme","color","grey","spacing","buyBAS","buyBAC","Nav","href","target","StyledFooter","footer","StyledFooterInner","topBarSize","siteWidth","Footer","StyledContainer","width","Container","size","ThemeContext","StyledLogo","Logo","src","farmer","height","style","marginTop","useModal","modal","StyledButton","button","boxShadow","disabled","fontSize","padding","Link","StyledExternalLink","Button","buttonColor","buttonSize","buttonPadding","text","to","variant","teal","primary","main","ButtonChild","useMemo","useTokenBalance","setBalance","fetchBalance","setInterval","clearInterval","StyledLabel","Label","labelColor","customColor","secondary","StyledCard","Card","StyledCardContent","CardContent","StyledModal","Modal","StyledModalTitle","ModalTitle","logosBySymbol","bacLogo","babLogo","basLogo","yCRVLogo","DAILogo","sUSDLogo","USDCLogo","USDTLogo","GOTLogo","TokenSymbol","alt","StyledValue","StyledBalance","Balances","StyledBalanceWrapper","AccountModal","bacBalance","displayBacBalance","basBalance","displayBasBalance","babBalance","displayBabBalance","StyledAccountButton","AccountButton","onPresentAccountModal","NavLink","StyledLink2","exact","activeClassName","addTransaction","createAction","clearAllTransactions","finalizeTransaction","checkedTransaction","useTransactionAdder","dispatch","useDispatch","response","summary","approval","hash","useAllTransactions","state","useSelector","transactions","isTransactionRecent","tx","addedTime","rotate","keyframes","StyledSVG","svg","stroke","primary1","MiniLoader","rest","viewBox","fill","xmlns","strokeWidth","strokeLinecap","strokeLinejoin","Row","align","border","borderRadius","AutoRow","gap","justify","RowFixed","TransactionWrapper","TransactionStatusText","TransactionState","IconWrapper","pending","success","green1","red1","Transaction","receipt","status","StyledModalActions","StyledModalAction","StyledSpacer","ModalActions","l","Children","toArray","length","map","child","i","Spacer","s","StyledTitleArea","StyledClearIconWrapper","StyledTransactionList","newTransactionsFirst","TxModal","allTransactions","useClearAllTransactions","sortedRecentTransactions","filter","confirmed","slice","isEmpty","key","StyledTxButton","TxButton","pendingTransactions","onDismissTransactionModal","onPresentTransactionModal","StyledTopBar","StyledTopBarInner","TopBar","flex","display","justifyContent","StyledPage","StyledMain","Page","StyledPageHeader","StyledIcon","StyledTitle","h1","StyledSubtitle","h3","PageHeader","icon","subtitle","title","StyledCardIcon","white","CardIcon","Value","useEarnings","earnedFromBank","refreshBalance","updateBlockNumber","toggleWalletModal","toggleSettingsMenu","addPopup","removePopup","useAddPopup","useHandleTransactionReceipt","promise","then","message","toLowerCase","useHarvest","bank","handleTransactionReceipt","onReward","harvest","StyledCardHeader","StyledCardActions","StyledCardContentInner","Harvest","earnings","tokenName","eq","Icon","AddIcon","themeColor","RemoveIcon","ApprovalState","IconButton","useAllowance","pendingApproval","setAllowance","fetchAllowance","toString","APPROVE_AMOUNT","constants","MaxUint256","APPROVE_BASE_AMOUNT","useApprove","tokenAddress","keys","some","useHasPendingApproval","currentAllowance","approvalState","lt","PENDING","NOT_APPROVED","APPROVED","UNKNOWN","useStake","onStake","amountBn","useStakedBalance","useWithdraw","onWithdraw","unstake","StyledInputWrapper","StyledInput","input","Input","endAdornment","onChange","placeholder","startAdornment","StyledTokenInput","StyledTokenAdornmentWrapper","StyledMaxText","StyledTokenSymbol","span","TokenInput","max","onSelectMax","toLocaleString","DepositModal","onConfirm","val","setVal","fullBalance","handleChange","e","currentTarget","handleSelectMax","WithdrawModal","StyledActionSpacer","Stake","approveStatus","tokenBalance","stakedBalance","onDismissDeposit","onPresentDeposit","onDismissWithdraw","onPresentWithdraw","useBank","contractName","BanksContext","find","useRedeem","onRedeem","LPTokenHelpText","pairName","uniswapUrl","BankNotFound","Center","UnlockWallet","StyledBank","StyledCardsWrapper","StyledCardWrapper","Bank","window","scrollTo","bankId","useParams","useBanks","StyledPanel","StyledText","StyledTextWrapper","Notice","BankCard","StyledCardSuperAccent","StyledCardAccent","StyledContent","StyledDetails","StyledDetail","toUpperCase","StyledCards","StyledRow","h4","StyledInactiveNoticeContainer","StyledInactiveBankTitle","p","BankCards","activeBanks","inactiveBanks","finishedFirstRow","inactiveRows","reduce","bankRows","newBankRows","Fragment","bankRow","j","path","useRouteMatch","Wrapper","CardHeader","h2","CardSection","ValueSkeletonPadding","StyledSupplyLabel","ValueSkeleton","highlightColor","HomeCard","supplyLabel","stat","tokenUrl","commify","CardWrapper","Home","cash","bond","share","setStats","fetchStats","Promise","all","getCashStatFromUniswap","getBondStat","getShareStat","now","cashAddr","shareAddr","bondAddr","ExchangeModal","description","action","useCatchError","StyledCardTitle","StyledExchanger","StyledExchangeArrow","StyledToken","StyledDesc","ExchangeCard","fromToken","fromTokenName","toToken","toTokenName","priceDesc","onExchange","disabledDescription","catchError","faArrowRight","useBondStats","setStat","fetchBondPrice","useBondOraclePriceInLastTWAP","price","setPrice","fetchCashPrice","StyledDial","StyledInner","StyledOuter","Dial","styles","buildStyles","pathColor","pathTransitionDuration","StyledCountdownWrapper","StyledCountdownTitle","StyledCountdown","StyledDescriptionButton","LaunchCountdown","deadline","descriptionLink","percentage","date","renderer","countdownProps","days","hours","minutes","seconds","h","m","padStart","ExchangeStat","DECIMALS_18","BOND_REDEEM_PRICE_BN","StyledBond","StyledStatsWrapper","bondStat","bondBalance","handleBuyBonds","bondAmount","handleRedeemBonds","isBondRedeemable","gt","isBondPurchasable","alignItems","createReducer","builder","addCase","payload","txs","blockNumber","lastCheckedBlockNumber","confirmedTime","popupList","walletModalOpen","settingsMenuOpen","removeAfterMs","popup","concat","nanoid","show","forEach","PERSISTED_KEYS","store","configureStore","reducer","application","middleware","getDefaultMiddleware","thunk","save","states","preloadedState","load","200","black","100","300","400","500","600","700","800","900","purple","light","1","2","3","4","5","6","7","VISIBILITY_STATE_SUPPORTED","document","isWindowVisible","visibilityState","Updater","windowVisible","focused","setFocused","listener","addEventListener","removeEventListener","useIsWindowVisible","setState","blockNumberCallback","getBlockNumber","on","removeListener","debouncedState","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout","useDebounce","lastBlockNumber","useBlockNumber","blocksSinceCheck","minutesPending","shouldCheck","getTransactionReceipt","blockHash","contractAddress","transactionHash","transactionIndex","txn","Updaters","useHarvestFromBoardroom","harvestCashFromBoardroom","useEarningsOnBoardroom","getEarningsOnBoardroom","useHarvestFromLpBoardroom","harvestCashFromLpBoardroom","useEarningsOnLpBoardroom","getEarningsOnLpBoardroom","useStakedBalanceOnBoardroom","getStakedSharesOnBoardroom","useStakeToBoardroom","stakeShareToBoardroom","useWithdrawFromBoardroom","setCanWithdraw","canWithdrawTime","setCanWithdrawTime","getCanWithdraw","canWithdrawFromBoardroom","canWithdrawTimeFromBoardroom","withdrawShareFromBoardroom","useBoardroomVersion","boardroomVersion","setBoardroomVersion","updateState","fetchBoardroomVersionOfUser","useRedeemOnBoardroom","alertDesc","exitFromBoardroom","_canWithdrawTime","moment","utc","startOf","toDate","useStakedBalanceOnLpBoardroom","getStakedSharesOnLpBoardroom","useStakeToLpBoardroom","stakeShareToLpBoardroom","useWithdrawFromLpBoardroom","canWithdrawLp","canWithdrawFromLpBoardroom","canWithdrawTimeFromLpBoardroom","withdrawShareFromLpBoardroom","useRedeemOnLpBoardroom","onLpRedeem","exitFromLpBoardroom","Stat","StyledProgressOuter","StyledProgress","progress","ProgressCountdown","base","useCashPriceInEstimatedTWAP","getCashStatInEstimatedTWAP","useTreasuryAmount","setAmount","useTreasuryAllocationTimes","time","setTime","getTreasuryNextAllocationTime","StyledBoardroom","StyledHeader","StyledNoticeWrapper","stakedLpBalance","cashStat","treasuryAmount","scalingFactor","prevEpoch","nextEpoch","add","migrateNotice","Humanize","compactInteger","LpHarvest","LpStake","Column","AutoColumn","RowNoFlex","TransactionPopup","paddingRight","StyledPopupDesc","ErrorPopup","copyErrorDetails","navigator","clipboard","writeText","StyledClose","X","Popup","Fader","AnimatedFader","animated","PopupItem","popKey","useRemovePopup","removeThisPopup","popupContent","faderStyle","useSpring","duration","text2","MobilePopupWrapper","MobilePopupInner","FixedPopupColumn","Popups","activePopups","list","item","useActivePopups","reverse","Providers","App","basename","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.22ec94d8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/basis-cash-logo.89e29678.svg\";","module.exports = __webpack_public_path__ + \"static/media/basis-share-logo.466cf09b.svg\";","module.exports = __webpack_public_path__ + \"static/media/Goswap-logo-GOT.3f620bf1.png\";","module.exports = __webpack_public_path__ + \"static/media/farmer.0a327c74.png\";","module.exports = __webpack_public_path__ + \"static/media/basis-bond-logo.80fb5592.svg\";","module.exports = __webpack_public_path__ + \"static/media/ycrv.88ae1ab3.png\";","module.exports = __webpack_public_path__ + \"static/media/DAI.17db7fc2.png\";","module.exports = __webpack_public_path__ + \"static/media/sUSD.f8fec857.png\";","module.exports = __webpack_public_path__ + \"static/media/USDC.c76b33ca.png\";","module.exports = __webpack_public_path__ + \"static/media/USDT.839a0f0d.png\";","import { createContext } from 'react';\nimport { Bank } from '../../basis-cash';\n\nexport interface BanksContext {\n  banks: Bank[];\n}\n\nconst context = createContext<BanksContext>({\n  banks: [],\n});\n\nexport default context;\n","import { Deployments } from './deployments';\nimport { ChainId } from 'goswap-sdk';\n\nexport type Configuration = {\n  chainId: ChainId,\n  etherscanUrl: string,\n  defaultProvider: string,\n  deployments: Deployments,\n  externalTokens: {[contractName: string]: [string, number]};\n  config?: EthereumConfig,\n\n  baseLaunchDate: Date,\n  bondLaunchesAt: Date,\n  boardroomLaunchesAt: Date,\n\n  refreshInterval: number;\n  gasLimitMultiplier: number;\n};\n\nexport type EthereumConfig = {\n  testing: boolean,\n  autoGasMultiplier: number,\n  defaultConfirmations: number,\n  defaultGas: string,\n  defaultGasPrice: string,\n  ethereumNodeTimeout: number,\n};\n\nexport const defaultEthereumConfig = {\n  testing: false,\n  autoGasMultiplier: 1.5,\n  defaultConfirmations: 1,\n  defaultGas: \"6000000\",\n  defaultGasPrice: \"1000000000000\",\n  ethereumNodeTimeout: 10000,\n};\n","import Web3 from 'web3';\nimport { defaultEthereumConfig, EthereumConfig } from './config';\nimport { formatUnits, parseUnits } from 'ethers/lib/utils';\nimport { BigNumber } from 'ethers';\n\nexport function web3ProviderFrom(endpoint: string, config?: EthereumConfig): any {\n  const ethConfig = Object.assign(defaultEthereumConfig, config || {});\n\n  const providerClass = endpoint.includes('wss')\n    ? Web3.providers.WebsocketProvider\n    : Web3.providers.HttpProvider;\n\n  return new providerClass(endpoint, {\n    timeout: ethConfig.ethereumNodeTimeout,\n  });\n}\n\nexport function balanceToDecimal(s: string): string {\n  return formatUnits(s);\n}\n\nexport function decimalToBalance(d: string | number, decimals = 18): BigNumber {\n  return parseUnits(String(d), decimals);\n}\n","import { BigNumber, Contract } from 'ethers';\nimport { Signer } from '@ethersproject/abstract-signer';\nimport { Provider } from '@ethersproject/abstract-provider';\nimport { TransactionResponse } from '@ethersproject/providers';\nimport { formatUnits } from 'ethers/lib/utils';\n\nclass ERC20 {\n  private contract: Contract;\n\n  address: string;\n  symbol: string;\n  decimal: number;\n\n  constructor(address: string, provider: Signer | Provider, symbol: string, decimal = 18) {\n    this.contract = new Contract(address, ABI, provider);\n    this.address = address;\n    this.symbol = symbol;\n    this.decimal = decimal;\n  }\n\n  connect(signerOrProvider: Signer | Provider) {\n    this.contract = new Contract(this.address, ABI, signerOrProvider);\n  }\n\n  get estimateGas() {\n    return this.contract.estimateGas;\n  }\n\n  totalSupply(): Promise<BigNumber> {\n    return this.contract.totalSupply();\n  }\n\n  balanceOf(account: string): Promise<BigNumber> {\n    return this.contract.balanceOf(account);\n  }\n\n  transfer(recipient: string, amount: BigNumber): Promise<TransactionResponse> {\n    return this.contract.transfer(recipient, amount);\n  }\n\n  allowance(owner: string, spender: string): Promise<BigNumber> {\n    return this.contract.allowance(owner, spender);\n  }\n\n  approve(spender: string, amount: BigNumber): Promise<TransactionResponse> {\n    return this.contract.approve(spender, amount);\n  }\n\n  transferFrom(\n    sender: string,\n    recipient: string,\n    amount: BigNumber,\n  ): Promise<TransactionResponse> {\n    return this.contract.transferFro (sender, recipient, amount);\n  }\n\n  async displayedBalanceOf(account: string): Promise<string> {\n    const balance = await this.balanceOf(account);\n    return formatUnits(balance, this.decimal);\n  }\n\n  async displayedTotalSupply(): Promise<string> {\n    const supply = await this.totalSupply();\n    return Number(formatUnits(supply, this.decimal)).toFixed(0);\n  }}\n\nexport default ERC20;\n\nconst ABI = [\n  {\n    name: 'Approval',\n    type: 'event',\n    anonymous: false,\n    inputs: [\n      { indexed: true, internalType: 'address', name: 'owner', type: 'address' },\n      { indexed: true, internalType: 'address', name: 'spender', type: 'address' },\n      { indexed: false, internalType: 'uint256', name: 'value', type: 'uint256' },\n    ],\n  },\n  {\n    anonymous: false,\n    inputs: [\n      { indexed: true, internalType: 'address', name: 'from', type: 'address' },\n      { indexed: true, internalType: 'address', name: 'to', type: 'address' },\n      { indexed: false, internalType: 'uint256', name: 'value', type: 'uint256' },\n    ],\n    name: 'Transfer',\n    type: 'event',\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: 'totalSupply',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    constant: true,\n    inputs: [{ internalType: 'address', name: 'account', type: 'address' }],\n    name: 'balanceOf',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    constant: false,\n    inputs: [\n      { internalType: 'address', name: 'recipient', type: 'address' },\n      { internalType: 'uint256', name: 'amount', type: 'uint256' },\n    ],\n    name: 'transfer',\n    outputs: [{ internalType: 'bool', name: '', type: 'bool' }],\n    payable: false,\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n  {\n    constant: true,\n    inputs: [\n      { internalType: 'address', name: 'owner', type: 'address' },\n      { internalType: 'address', name: 'spender', type: 'address' },\n    ],\n    name: 'allowance',\n    outputs: [{ internalType: 'uint256', name: '', type: 'uint256' }],\n    payable: false,\n    stateMutability: 'view',\n    type: 'function',\n  },\n  {\n    constant: false,\n    inputs: [\n      { internalType: 'address', name: 'spender', type: 'address' },\n      { internalType: 'uint256', name: 'amount', type: 'uint256' },\n    ],\n    name: 'approve',\n    outputs: [{ internalType: 'bool', name: '', type: 'bool' }],\n    payable: false,\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n  {\n    constant: false,\n    inputs: [\n      { internalType: 'address', name: 'sender', type: 'address' },\n      { internalType: 'address', name: 'recipient', type: 'address' },\n      { internalType: 'uint256', name: 'amount', type: 'uint256' },\n    ],\n    name: 'transferFrom',\n    outputs: [{ internalType: 'bool', name: '', type: 'bool' }],\n    payable: false,\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n];\n","import { BigNumber } from 'ethers';\n\nexport const getDisplayBalance = (balance: BigNumber, decimals = 18, fractionDigits = 5) => {\n  const number = getBalance(balance, decimals - fractionDigits);\n  return (number / 10 ** fractionDigits).toFixed(fractionDigits);\n};\n\nexport const getFullDisplayBalance = (balance: BigNumber, decimals = 18) => {\n  return getDisplayBalance(balance, decimals);\n};\n\nexport function getBalance(balance: BigNumber, decimals = 18) : number {\n  return balance.div(BigNumber.from(10).pow(decimals)).toNumber();\n}\n","import { ChainId } from 'goswap-sdk';\nimport { Configuration } from './basis-cash/config';\nimport { BankInfo } from './basis-cash';\nimport { formatUnits } from 'ethers/lib/utils';\nimport { BigNumber } from 'ethers';\n\nconst configurations: { [env: string]: Configuration } = {\n  development: {\n    chainId: ChainId.HECOTEST,\n    etherscanUrl: 'https://scan-testnet.hecochain.com',\n    defaultProvider: 'https://http-testnet.hecochain.com',\n    deployments: require('./basis-cash/deployments/deployments.mainnet.json'),\n    externalTokens: {\n      DAI: ['0x6B175474E89094C44Da98b954EedeAC495271d0F', 18],\n      HUSD: ['0x0f548051B135fa8f7F6190cb78Fd13eCB544fEE6', 8],\n      yCRV: ['0xdf5e0e81dff6faf3a7e52ba697820c5e32d806a8', 18],\n      SUSD: ['0x57Ab1E02fEE23774580C119740129eAC7081e9D3', 18],\n      USDC: ['0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48', 6],\n      USDT: ['0xdAC17F958D2ee523a2206206994597C13D831ec7', 6],\n      'GOS_HUSD-GLP': ['0xd0E8D781fAe230E3DA6e45ED881c99BA639cA400', 18],\n      'GOC_HUSD-GLP': ['0x28BFcd3c234B710d93232B5e51a2e8b8a5bb9D2f', 18],\n      'HT_HUSD-GLP': ['0xBe963435F750bB60e45fFa98318E74ea6E3aC0d7', 18],\n      'GOT_HUSD-GLP': ['0xC31b9f33fB2C54B789C263781CCEE9b23b747677', 18],\n    },\n    baseLaunchDate: new Date('2020-11-26T00:00:00Z'),\n    bondLaunchesAt: new Date('2020-12-03T15:00:00Z'),\n    boardroomLaunchesAt: new Date('2020-12-11T00:00:00Z'),\n    refreshInterval: 10000,\n    gasLimitMultiplier: 1.1,\n  },\n  production: {\n    chainId: ChainId.HECOMAIN,\n    etherscanUrl: 'https://scan.hecochain.com',\n    defaultProvider: 'https://http-mainnet.hecochain.com',\n    deployments: require('./basis-cash/deployments/deployments.mainnet.json'),\n    externalTokens: {\n      DAI: ['0x6B175474E89094C44Da98b954EedeAC495271d0F', 18],\n      HUSD: ['0x0f548051B135fa8f7F6190cb78Fd13eCB544fEE6', 8],\n      yCRV: ['0xdf5e0e81dff6faf3a7e52ba697820c5e32d806a8', 18],\n      SUSD: ['0x57Ab1E02fEE23774580C119740129eAC7081e9D3', 18],\n      USDC: ['0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48', 6],\n      USDT: ['0xdAC17F958D2ee523a2206206994597C13D831ec7', 6],\n      'GOS_HUSD-GLP': ['0xd0E8D781fAe230E3DA6e45ED881c99BA639cA400', 18],\n      'GOC_HUSD-GLP': ['0x28BFcd3c234B710d93232B5e51a2e8b8a5bb9D2f', 18],\n      'HT_HUSD-GLP': ['0xBe963435F750bB60e45fFa98318E74ea6E3aC0d7', 18],\n      'GOT_HUSD-GLP': ['0xC31b9f33fB2C54B789C263781CCEE9b23b747677', 18],\n    },\n    baseLaunchDate: new Date('2020-11-29T23:00:00Z'),\n    bondLaunchesAt: new Date('2020-12-05T00:00:00Z'),\n    boardroomLaunchesAt: new Date('2020-12-11T00:00:00Z'),\n    refreshInterval: 30000,\n    gasLimitMultiplier: 1.7,\n  },\n};\n\nexport const bankDefinitions: { [contractName: string]: BankInfo } = {\n  HUSDGOCLPTokenSharePool: {\n    name: 'Earn GOS by GOC-HUSD-LP',\n    contract: 'HUSDGOCLPTokenSharePool',\n    depositTokenName: 'GOC_HUSD-GLP',\n    earnTokenName: 'GOS',\n    finished: false,\n    sort: 1,\n  },\n  HUSDGOSLPTokenSharePool: {\n    name: 'Earn GOS by GOS-HUSD-LP',\n    contract: 'HUSDGOSLPTokenSharePool',\n    depositTokenName: 'GOS_HUSD-GLP',\n    earnTokenName: 'GOS',\n    finished: false,\n    sort: 2,\n  },\n  HTHUSDLPTokenGOTPool: {\n    name: 'Earn GOT by HT-HUSD-LP',\n    contract: 'HTHUSDLPTokenGOTPool',\n    depositTokenName: 'HT_HUSD-GLP',\n    earnTokenName: 'GOT',\n    finished: false,\n    sort: 3,\n  },\n  GOTHUSDLPTokenGOTPool: {\n    name: 'Earn GOT by GOT-HUSD-LP',\n    contract: 'GOTHUSDLPTokenGOTPool',\n    depositTokenName: 'GOT_HUSD-GLP',\n    earnTokenName: 'GOT',\n    finished: false,\n    sort: 4,\n  },\n};\n// export default configurations[process.env.NODE_ENV || \"development\"];\nexport default configurations[\"development\"];\n","import { ethers } from 'ethers';\nimport config from '../config';\nimport { web3ProviderFrom } from '../basis-cash/ether-utils';\n\nexport function getDefaultProvider(): ethers.providers.Web3Provider {\n  return new ethers.providers.Web3Provider(\n    web3ProviderFrom(config.defaultProvider),\n    config.chainId,\n  )\n}\n","import { Fetcher, Route, Token } from 'goswap-sdk';\nimport { Configuration } from './config';\nimport { ContractName, TokenStat, TreasuryAllocationTime } from './types';\nimport { BigNumber, Contract, ethers, Overrides } from 'ethers';\nimport { decimalToBalance } from './ether-utils';\nimport { TransactionResponse } from '@ethersproject/providers';\nimport ERC20 from './ERC20';\nimport { getDisplayBalance } from '../utils/formatBalance';\nimport { getDefaultProvider } from '../utils/provider';\nimport IUniswapV2PairABI from './IUniswapV2Pair.abi.json';\nimport { createGlobalStyle } from 'styled-components';\n\n/**\n * An API module of Basis Cash contracts.\n * All contract-interacting domain logic should be defined in here.\n */\nexport class BasisCash {\n  myAccount: string;\n  provider: ethers.providers.Web3Provider;\n  signer?: ethers.Signer;\n  config: Configuration;\n  contracts: { [name: string]: Contract };\n  externalTokens: { [name: string]: ERC20 };\n  boardroomVersionOfUser?: string;\n\n  bacDai: Contract;\n  GOC: ERC20;\n  GOS: ERC20;\n  GOB: ERC20;\n  GOSLP: ERC20;\n\n  constructor(cfg: Configuration) {\n    const { deployments, externalTokens } = cfg;\n    const provider = getDefaultProvider();\n\n    // loads contracts from deployments\n    this.contracts = {};\n    for (const [name, deployment] of Object.entries(deployments)) {\n      this.contracts[name] = new Contract(deployment.address, deployment.abi, provider);\n    }\n    this.externalTokens = {};\n    for (const [symbol, [address, decimal]] of Object.entries(externalTokens)) {\n      this.externalTokens[symbol] = new ERC20(address, provider, symbol, decimal); // TODO: add decimal\n    }\n    this.GOC = new ERC20(deployments.Cash.address, provider, 'GOC');\n    this.GOS = new ERC20(deployments.Share.address, provider, 'GOS');\n    this.GOB = new ERC20(deployments.Bond.address, provider, 'GOB');\n    this.GOSLP = new ERC20(deployments.GosLp.address, provider, 'GLP:GOS-HUSD');\n\n    // Uniswap V2 Pair\n    this.bacDai = new Contract(\n      externalTokens['GOC_HUSD-GLP'][0],\n      IUniswapV2PairABI,\n      provider,\n    );\n\n    this.config = cfg;\n    this.provider = provider;\n  }\n\n  /**\n   * @param provider From an unlocked wallet. (e.g. Metamask)\n   * @param account An address of unlocked wallet account.\n   */\n  unlockWallet(provider: any, account: string) {\n    const newProvider = new ethers.providers.Web3Provider(provider, this.config.chainId);\n\n    this.signer = newProvider.getSigner(0);\n    this.myAccount = account;\n    for (const [name, contract] of Object.entries(this.contracts)) {\n      this.contracts[name] = contract.connect(this.signer);\n    }\n    const tokens = [this.GOC, this.GOS, this.GOB, this.GOSLP, ...Object.values(this.externalTokens)];\n    for (const token of tokens) {\n      token.connect(this.signer);\n    }\n    this.bacDai = this.bacDai.connect(this.signer);\n    // console.log(` Wallet is unlocked. Welcome, ${account}!`);\n    // this.fetchBoardroomVersionOfUser()\n    //   .then((version) => (this.boardroomVersionOfUser = version))\n    //   .catch((err) => {\n    //     console.error(`Failed to fetch boardroom version: ${err.stack}`);\n        this.boardroomVersionOfUser = 'latest';\n      // });\n  }\n\n  get isUnlocked(): boolean {\n    return !!this.myAccount;\n  }\n\n  gasOptions(gas: BigNumber): Overrides {\n    const multiplied = Math.floor(gas.toNumber() * this.config.gasLimitMultiplier);\n    console.log(` Gas multiplied: ${gas} -> ${multiplied}`);\n    return {\n      gasLimit: BigNumber.from(multiplied),\n    };\n  }\n\n  /**\n   * @returns Basis Cash (GOC) stats from Uniswap.\n   * It may differ from the GOC price used on Treasury (which is calculated in TWAP)\n   */\n  async getCashStatFromUniswap(): Promise<TokenStat> {\n    const supply = await this.GOC.displayedTotalSupply();\n    return {\n      priceInDAI: await this.getTokenPriceFromUniswap(this.GOC),\n      totalSupply: supply,\n    };\n  }\n\n  /**\n   * @returns Estimated Basis Cash (GOC) price data,\n   * calculated by 1-day Time-Weight Averaged Price (TWAP).\n   */\n  async getCashStatInEstimatedTWAP(): Promise<TokenStat> {\n    const { SeigniorageOracle } = this.contracts;\n\n    const expectedPrice = await SeigniorageOracle.expectedPrice(\n      this.GOC.address,\n      ethers.utils.parseEther('1'),\n    );\n    const supply = await this.GOC.displayedTotalSupply();\n\n    return {\n      priceInDAI: getDisplayBalance(expectedPrice,8),\n      totalSupply: supply,\n    };\n  }\n\n  async getCashPriceInLastTWAP(): Promise<BigNumber> {\n    const { Treasury } = this.contracts;\n    return Treasury.getSeigniorageOraclePrice();\n  }\n\n  async getOraclePriceInLastTWAP(): Promise<BigNumber> {\n    const { Treasury } = this.contracts;\n    return Treasury.getOraclePrice();\n  }\n\n  async getBondStat(): Promise<TokenStat> {\n    const decimals = BigNumber.from(10).pow(18);\n\n    const cashPrice: BigNumber = await this.getOraclePriceInLastTWAP();\n    const bondPrice = cashPrice.pow(2).div(decimals);\n\n    return {\n      priceInDAI: getDisplayBalance(bondPrice),\n      totalSupply: await this.GOB.displayedTotalSupply(),\n    };\n  }\n\n  async getShareStat(): Promise<TokenStat> {\n    return {\n      priceInDAI: await this.getTokenPriceFromUniswap(this.GOS),\n      totalSupply: await this.GOS.displayedTotalSupply(),\n    };\n  }\n\n  async getTokenPriceFromUniswap(tokenContract: ERC20): Promise<string> {\n    await this.provider.ready;\n\n    const { chainId } = this.config;\n    const { HUSD } = this.config.externalTokens;\n\n    const husd = new Token(chainId, HUSD[0], 8);\n    const token = new Token(chainId, tokenContract.address, 18);\n\n    try {\n      const husdToToken = await Fetcher.fetchPairData(husd, token, this.provider);\n      const priceInHUSD = new Route([husdToToken], token);\n      console.log(priceInHUSD.midPrice)\n      return priceInHUSD.midPrice.toSignificant(3);\n    } catch (err) {\n      console.error(`Failed to fetch token price of ${tokenContract.symbol}: ${err}`);\n    }\n  }\n\n  /**\n   * Buy bonds with cash.\n   * @param amount amount of cash to purchase bonds with.\n   */\n  async buyBonds(amount: string | number): Promise<TransactionResponse> {\n    const { Treasury } = this.contracts;\n    return await Treasury.buyBonds(\n      decimalToBalance(amount),\n      await this.getOraclePriceInLastTWAP(),\n    );\n  }\n\n  /**\n   * Redeem bonds for cash.\n   * @param amount amount of bonds to redeem.\n   */\n  async redeemBonds(amount: string): Promise<TransactionResponse> {\n    const { Treasury } = this.contracts;\n    return await Treasury.redeemBonds(decimalToBalance(amount));\n  }\n\n  async earnedFromBank(poolName: ContractName, account = this.myAccount): Promise<BigNumber> {\n    const pool = this.contracts[poolName];\n    try {\n      return await pool.earned(account);\n    } catch (err) {\n      console.error(`Failed to call earned() on pool ${pool.address}: ${err.stack}`);\n      return BigNumber.from(0);\n    }\n  }\n\n  async stakedBalanceOnBank(\n    poolName: ContractName,\n    account = this.myAccount,\n  ): Promise<BigNumber> {\n    const pool = this.contracts[poolName];\n    try {\n      return await pool.balanceOf(account);\n    } catch (err) {\n      console.error(`Failed to call balanceOf() on pool ${pool.address}: ${err.stack}`);\n      return BigNumber.from(0);\n    }\n  }\n\n  /**\n   * Deposits token to given pool.\n   * @param poolName A name of pool contract.\n   * @param amount Number of tokens with decimals applied. (e.g. 1.45 DAI * 10^18)\n   * @returns {string} Transaction hash\n   */\n  async stake(poolName: ContractName, amount: BigNumber): Promise<TransactionResponse> {\n    const pool = this.contracts[poolName];\n    const gas = await pool.estimateGas.stake(amount);\n    return await pool.stake(amount, this.gasOptions(gas));\n  }\n\n  /**\n   * Withdraws token from given pool.\n   * @param poolName A name of pool contract.\n   * @param amount Number of tokens with decimals applied. (e.g. 1.45 DAI * 10^18)\n   * @returns {string} Transaction hash\n   */\n  async unstake(poolName: ContractName, amount: BigNumber): Promise<TransactionResponse> {\n    const pool = this.contracts[poolName];\n    const gas = await pool.estimateGas.withdraw(amount);\n    return await pool.withdraw(amount, this.gasOptions(gas));\n  }\n\n  /**\n   * Transfers earned token reward from given pool to my account.\n   */\n  async harvest(poolName: ContractName): Promise<TransactionResponse> {\n    const pool = this.contracts[poolName];\n    const gas = await pool.estimateGas.getReward();\n    return await pool.getReward(this.gasOptions(gas));\n  }\n\n  /**\n   * Harvests and withdraws deposited tokens from the pool.\n   */\n  async exit(poolName: ContractName): Promise<TransactionResponse> {\n    const pool = this.contracts[poolName];\n    const gas = await pool.estimateGas.exit();\n    return await pool.exit(this.gasOptions(gas));\n  }\n\n  async fetchBoardroomVersionOfUser(): Promise<string> {\n    // const { Boardroom1, Boardroom2 } = this.contracts;\n    // const balance1 = await Boardroom1.getShareOf(this.myAccount);\n    // if (balance1.gt(0)) {\n    //   console.log(\n    //     ` The user is using Boardroom v1. (Staked ${getDisplayBalance(balance1)} BAS)`,\n    //   );\n    //   return 'v1';\n    // }\n    // const balance2 = await Boardroom2.balanceOf(this.myAccount);\n    // if (balance2.gt(0)) {\n    //   console.log(\n    //     ` The user is using Boardroom v2. (Staked ${getDisplayBalance(balance2)} BAS)`,\n    //   );\n    //   return 'v2';\n    // }\n    return 'latest';\n  }\n\n  boardroomByVersion(version: string): Contract {\n    if (version === 'lp') {\n      return this.contracts.lpBoardroom;\n    }\n    return this.contracts.shareBoardroom;\n  }\n\n  currentBoardroom(): Contract {\n    if (!this.boardroomVersionOfUser) {\n      throw new Error('you must unlock the wallet to continue.');\n    }\n    return this.boardroomByVersion(this.boardroomVersionOfUser);\n  }\n  currentLpBoardroom(): Contract {\n    if (!this.boardroomVersionOfUser) {\n      throw new Error('you must unlock the wallet to continue.');\n    }\n    return this.boardroomByVersion('lp');\n  }\n\n  isOldBoardroomMember(): boolean {\n    return this.boardroomVersionOfUser !== 'latest';\n  }\n\n  async stakeShareToBoardroom(amount: string): Promise<TransactionResponse> {\n    const Boardroom = this.currentBoardroom();\n    return await Boardroom.stake(decimalToBalance(amount));\n  }\n\n  async stakeShareToLpBoardroom(amount: string): Promise<TransactionResponse> {\n    const Boardroom = this.currentLpBoardroom();\n    return await Boardroom.stake(decimalToBalance(amount));\n  }\n\n  async getStakedSharesOnBoardroom(): Promise<BigNumber> {\n    const Boardroom = this.currentBoardroom();\n    return await Boardroom.balanceOf(this.myAccount);\n  }\n  async getStakedSharesOnLpBoardroom(): Promise<BigNumber> {\n    const Boardroom = this.currentLpBoardroom();\n    return await Boardroom.balanceOf(this.myAccount);\n  }\n\n  async getEarningsOnBoardroom(): Promise<BigNumber> {\n    const Boardroom = this.currentBoardroom();\n    return await Boardroom.earned(this.myAccount);\n  }\n\n  async getEarningsOnLpBoardroom(): Promise<BigNumber> {\n    const Boardroom = this.currentLpBoardroom();\n    return await Boardroom.earned(this.myAccount);\n  }\n\n  async withdrawShareFromBoardroom(amount: string): Promise<TransactionResponse> {\n    const Boardroom = this.currentBoardroom();\n    return await Boardroom.withdraw(decimalToBalance(amount));\n  }\n\n  async withdrawShareFromLpBoardroom(amount: string): Promise<TransactionResponse> {\n    const Boardroom = this.currentLpBoardroom();\n    return await Boardroom.withdraw(decimalToBalance(amount));\n  }\n\n  async canWithdrawFromBoardroom(): Promise<Boolean> {\n    const Boardroom = this.currentBoardroom();\n    return await Boardroom.canWithdraw(this.myAccount);\n  }\n\n  async canWithdrawFromLpBoardroom(): Promise<Boolean> {\n    const Boardroom = this.currentLpBoardroom();\n    return await Boardroom.canWithdraw(this.myAccount);\n  }\n\n  async canWithdrawTimeFromBoardroom(): Promise<BigNumber> {\n    const Boardroom = this.currentBoardroom();\n    return await Boardroom.getCanWithdrawTime(this.myAccount);\n  }\n\n  async canWithdrawTimeFromLpBoardroom(): Promise<BigNumber> {\n    const Boardroom = this.currentLpBoardroom();\n    return await Boardroom.getCanWithdrawTime(this.myAccount);\n  }\n\n  async harvestCashFromBoardroom(): Promise<TransactionResponse> {\n    const Boardroom = this.currentBoardroom();\n    return await Boardroom.claimReward();\n  }\n  async harvestCashFromLpBoardroom(): Promise<TransactionResponse> {\n    const Boardroom = this.currentLpBoardroom();\n    return await Boardroom.claimReward();\n  }\n\n  async exitFromBoardroom(): Promise<TransactionResponse> {\n    const Boardroom = this.currentBoardroom();\n    return await Boardroom.exit();\n  }\n  async exitFromLpBoardroom(): Promise<TransactionResponse> {\n    const Boardroom = this.currentLpBoardroom();\n    return await Boardroom.exit();\n  }\n\n  async getTreasuryNextAllocationTime(): Promise<TreasuryAllocationTime> {\n    const { Treasury } = this.contracts;\n    const nextEpochTimestamp: BigNumber = await Treasury.nextEpochPoint();\n    const period: BigNumber = await Treasury.getPeriod();\n\n    const nextAllocation = new Date(nextEpochTimestamp.mul(1000).toNumber());\n    const prevAllocation = new Date(nextAllocation.getTime() - period.toNumber() * 1000);\n    return { prevAllocation, nextAllocation };\n  }\n}\n","import React, { createContext, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\nimport BasisCash from '../../basis-cash';\nimport config from '../../config';\n\nexport interface BasisCashContext {\n  basisCash?: BasisCash;\n}\n\nexport const Context = createContext<BasisCashContext>({ basisCash: null });\n\nexport const BasisCashProvider: React.FC = ({ children }) => {\n  const { ethereum, account } = useWallet();\n  const [basisCash, setBasisCash] = useState<BasisCash>();\n\n  useEffect(() => {\n    if (!basisCash) {\n      const basis = new BasisCash(config);\n      if (account) {\n        // wallet was unlocked at initialization\n        basis.unlockWallet(ethereum, account);\n      }\n      setBasisCash(basis);\n    } else if (account) {\n      basisCash.unlockWallet(ethereum, account);\n    }\n  }, [account]);\n\n  return <Context.Provider value={{ basisCash }}>{children}</Context.Provider>;\n};\n","import { useContext } from 'react';\nimport { Context } from '../contexts/BasisCashProvider';\n\nconst useBasisCash = () => {\n  const { basisCash } = useContext(Context);\n  return basisCash;\n};\n\nexport default useBasisCash;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport Context from './context';\nimport useBasisCash from '../../hooks/useBasisCash';\nimport { Bank } from '../../basis-cash';\nimport config, { bankDefinitions } from '../../config';\n\nconst Banks: React.FC = ({ children }) => {\n  const [banks, setBanks] = useState<Bank[]>([]);\n  const basisCash = useBasisCash();\n\n  const fetchPools = useCallback(async () => {\n    const banks: Bank[] = [];\n\n    for (const bankInfo of Object.values(bankDefinitions)) {\n      if (bankInfo.finished) {\n        if (!basisCash.isUnlocked) continue;\n\n        // only show pools staked by user\n        const balance = await basisCash.stakedBalanceOnBank(bankInfo.contract, basisCash.myAccount);\n        if (balance.lte(0)) {\n          continue;\n        }\n      }\n      banks.push({\n        ...bankInfo,\n        address: config.deployments[bankInfo.contract].address,\n        depositToken: basisCash.externalTokens[bankInfo.depositTokenName],\n        earnToken: bankInfo.earnTokenName == 'GOC' ? basisCash.GOC : basisCash.GOS,\n      });\n    }\n    banks.sort((a, b) => (a.sort > b.sort ? 1 : -1));\n    setBanks(banks);\n  }, [basisCash, basisCash?.isUnlocked, setBanks]);\n\n  useEffect(() => {\n    if (basisCash) {\n      fetchPools()\n        .catch(err => console.error(`Failed to fetch pools: ${err.stack}`));\n    }\n  }, [basisCash, basisCash?.isUnlocked, fetchPools]);\n\n  return <Context.Provider value={{ banks }}>{children}</Context.Provider>;\n};\n\nexport default Banks;\n","import React, { createContext, useCallback, useState } from 'react'\nimport styled from 'styled-components'\n\ninterface ModalsContext {\n  content?: React.ReactNode,\n  isOpen?: boolean,\n  onPresent: (content: React.ReactNode) => void,\n  onDismiss: () => void\n}\n\nexport const Context = createContext<ModalsContext>({\n  onPresent: () => {},\n  onDismiss: () => {},\n})\n\nconst Modals: React.FC = ({ children }) => {\n  const [isOpen, setIsOpen] = useState(false)\n  const [content, setContent] = useState<React.ReactNode>()\n\n  const handlePresent = useCallback((modalContent: React.ReactNode) => {\n    setContent(modalContent)\n    setIsOpen(true)\n  }, [setContent, setIsOpen])\n\n  const handleDismiss = useCallback(() => {\n    setContent(undefined)\n    setIsOpen(false)\n  }, [setContent, setIsOpen])\n\n  return (\n    <Context.Provider value={{\n      content,\n      isOpen,\n      onPresent: handlePresent,\n      onDismiss: handleDismiss,\n    }}>\n      {children}\n      {isOpen && (\n        <StyledModalWrapper>\n          <StyledModalBackdrop onClick={handleDismiss} />\n          {React.isValidElement(content) && React.cloneElement(content, {\n            onDismiss: handleDismiss,\n          })}\n        </StyledModalWrapper>\n      )}\n    </Context.Provider>\n  )\n}\n\nconst StyledModalWrapper = styled.div`\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  position: fixed;\n  top: 0; right: 0; bottom: 0; left: 0;\n`\n\nconst StyledModalBackdrop = styled.div`\n  background-color: #00000088;\n  position: absolute;\n  top: 0; right: 0; bottom: 0; left: 0;\n`\n\nexport default Modals","import React from 'react'\nimport styled from 'styled-components'\n\nconst Nav: React.FC = () => {\n  return (\n    <StyledNav>\n      <StyledLink href= {buyBAS} target=\"_blank\">Get GOS</StyledLink>\n      <StyledLink href= {buyBAC} target=\"_blank\">Get GOC</StyledLink>\n      <StyledLink href=\"https://github.com/Basis-Cash\" target=\"_blank\">GitHub</StyledLink>\n      <StyledLink href=\"https://twitter.com/BasisCash\" target=\"_blank\">Twitter</StyledLink>\n      <StyledLink href=\"https://t.me/basiscash\" target=\"_blank\">Telegram</StyledLink>\n      <StyledLink href=\"https://discord.gg/UEZq3HF5Eu\" target=\"_blank\">Discord</StyledLink>\n      <StyledLink href=\"https://medium.com/basis-cash\" target=\"_blank\">Medium</StyledLink>\n      <StyledLink href=\"https://www.dropbox.com/s/ed5vxvaple5e740/REP-Basis-Cash-06_11_2020.pdf?dl=0\" target=\"_blank\">Audit</StyledLink>\n    </StyledNav>\n  )\n}\n\nconst StyledNav = styled.nav`\n  align-items: center;\n  display: flex;\n`\n\nconst StyledLink = styled.a`\n  color: ${props => props.theme.color.grey[400]};\n  padding-left: ${props => props.theme.spacing[3]}px;\n  padding-right: ${props => props.theme.spacing[3]}px;\n  text-decoration: none;\n  &:hover {\n    color: ${props => props.theme.color.grey[500]};\n  }\n`\nconst buyBAS =\"https://uniswap.exchange/swap?inputCurrency=0x6b175474e89094c44da98b954eedeac495271d0f&outputCurrency=0xa7ed29b253d8b4e3109ce07c80fc570f81b63696\";\nconst buyBAC= \"https://uniswap.exchange/swap?inputCurrency=0x3449fc1cd036255ba1eb19d65ff4ba2b8903a69a&outputCurrency=0x6b175474e89094c44da98b954eedeac495271d0f\"\nexport default Nav","import React from 'react'\nimport styled from 'styled-components'\n\nimport Nav from './components/Nav'\n\nconst Footer: React.FC = () => (\n  <StyledFooter>\n    <StyledFooterInner>\n      <Nav />\n    </StyledFooterInner>\n  </StyledFooter>\n)\n\nconst StyledFooter = styled.footer`\n  align-items: center;\n  display: flex;\n  justify-content: center;\n`\nconst StyledFooterInner = styled.div`\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  height: ${props => props.theme.topBarSize}px;\n  max-width: ${props => props.theme.siteWidth}px;\n  width: 100%;\n`\n\nexport default Footer","import React, { useContext } from 'react'\nimport styled, { ThemeContext } from 'styled-components'\n\ninterface ContainerProps {\n  children?: React.ReactNode,\n  size?: 'sm' | 'md' | 'lg'\n}\n\nconst Container: React.FC<ContainerProps> = ({ children, size = 'md' }) => {\n  const { siteWidth } = useContext<{ siteWidth: number }>(ThemeContext)\n  let width: number\n  switch (size) {\n    case 'sm':\n      width = siteWidth / 2\n      break\n    case 'md':\n      width = siteWidth * 2 / 3\n      break\n    case 'lg':\n    default:\n      width = siteWidth\n  }\n  return (\n    <StyledContainer width={width}>\n      {children}\n    </StyledContainer>\n  )\n}\n\ninterface StyledContainerProps {\n  width: number\n}\n\nconst StyledContainer = styled.div<StyledContainerProps>`\n  box-sizing: border-box;\n  margin: 0 auto;\n  max-width: ${props => props.width}px;\n  padding: 0 ${props => props.theme.spacing[4]}px;\n  width: 100%;\n`\n\nexport default Container","import React from 'react';\nimport styled from 'styled-components';\n\nimport farmer from '../../assets/img/farmer.png';\n\nconst Logo: React.FC = () => {\n  return (\n    <StyledLogo>\n      <img src={farmer} height=\"32\" style={{ marginTop: -4 }} />\n      <StyledLink href=\"/\">Basis Cash</StyledLink>\n    </StyledLogo>\n  );\n};\n\nconst StyledLogo = styled.div`\n  align-items: center;\n  display: flex;\n`;\n\nconst StyledLink = styled.a`\n  color: ${(props) => props.theme.color.grey[100]};\n  text-decoration: none;\n  font-size: 18px;\n  font-weight: 700;\n  margin-left: ${(props) => props.theme.spacing[2]}px;\n`;\n\nexport default Logo;\n","import { useCallback, useContext } from 'react'\n\nimport { Context } from '../contexts/Modals'\n\nconst useModal = (modal: React.ReactNode) => {\n  const { onDismiss, onPresent } = useContext(Context)\n\n  const handlePresent = useCallback(() => {\n    onPresent(modal)\n  }, [\n    modal,\n    onPresent,\n  ])\n\n  return [handlePresent, onDismiss]\n}\n\nexport default useModal","import React, { useContext, useMemo } from 'react'\nimport styled, { ThemeContext } from 'styled-components'\n\nimport { Link } from 'react-router-dom'\n\ninterface ButtonProps {\n  children?: React.ReactNode,\n  disabled?: boolean,\n  href?: string,\n  onClick?: () => void,\n  size?: 'sm' | 'md' | 'lg',\n  text?: string,\n  to?: string,\n  variant?: 'default' | 'secondary' | 'tertiary'\n}\n\nconst Button: React.FC<ButtonProps> = ({\n  children,\n  disabled,\n  href,\n  onClick,\n  size,\n  text,\n  to,\n  variant,\n}) => {\n  const { color, spacing } = useContext(ThemeContext)\n\n  let buttonColor: string\n  switch (variant) {\n    case 'secondary':\n      buttonColor = color.teal[200]\n      break\n    case 'default':\n    default:\n      buttonColor = color.primary.main\n  }\n\n  let boxShadow: string\n  let buttonSize: number\n  let buttonPadding: number\n  let fontSize: number\n  switch (size) {\n    case 'sm':\n      buttonPadding = spacing[3]\n      buttonSize = 36\n      fontSize = 14\n      break\n    case 'lg':\n      buttonPadding = spacing[4]\n      buttonSize = 72\n      fontSize = 16\n      break\n    case 'md':\n    default:\n      buttonPadding = spacing[4]\n      buttonSize = 56\n      fontSize = 16\n  }\n\n  const ButtonChild = useMemo(() => {\n    if (to) {\n      return <StyledLink to={to}>{text}</StyledLink>\n    } else if (href) {\n      return <StyledExternalLink href={href} target=\"__blank\">{text}</StyledExternalLink>\n    } else {\n      return text\n    }\n  }, [href, text, to])\n\n  return (\n    <StyledButton\n      boxShadow={boxShadow}\n      color={buttonColor}\n      disabled={disabled}\n      fontSize={fontSize}\n      onClick={onClick}\n      padding={buttonPadding}\n      size={buttonSize}\n    >\n      {children}\n      {ButtonChild}\n    </StyledButton>\n  )\n}\n\ninterface StyledButtonProps {\n  boxShadow: string,\n  color: string,\n  disabled?: boolean,\n  fontSize: number,\n  padding: number,\n  size: number\n}\n\nconst StyledButton = styled.button<StyledButtonProps>`\n  align-items: center;\n  background-color: ${props => props.theme.color.grey[900]};\n  border: 0;\n  border-radius: 12px;\n  box-shadow: ${props => props.boxShadow};\n  color: ${props => !props.disabled ? props.color : `${props.color}55`};\n  cursor: pointer;\n  display: flex;\n  font-size: ${props => props.fontSize}px;\n  font-weight: 700;\n  height: ${props => props.size}px;\n  justify-content: center;\n  outline: none;\n  padding-left: ${props => props.padding}px;\n  padding-right: ${props => props.padding}px;\n  pointer-events: ${props => !props.disabled ? undefined : 'none'};\n  width: 100%;\n  &:hover {\n    background-color: ${props => props.color};\n    color: ${props => props.theme.color.grey[900]};\n  }\n`\n\nconst StyledLink = styled(Link)`\n  align-items: center;\n  color: inherit;\n  display: flex;\n  flex: 1;\n  height: 56px;\n  justify-content: center;\n  margin: 0 ${props => -props.theme.spacing[4]}px;\n  padding: 0 ${props => props.theme.spacing[4]}px;\n  text-decoration: none;\n`\n\nconst StyledExternalLink = styled.a`\n  align-items: center;\n  color: inherit;\n  display: flex;\n  flex: 1;\n  height: 56px;\n  justify-content: center;\n  margin: 0 ${props => -props.theme.spacing[4]}px;\n  padding: 0 ${props => props.theme.spacing[4]}px;\n  text-decoration: none;\n`\n\nexport default Button","import { useCallback, useEffect, useState } from 'react';\nimport { BigNumber } from 'ethers';\nimport ERC20 from '../basis-cash/ERC20';\nimport useBasisCash from './useBasisCash';\nimport config from '../config';\n\nconst useTokenBalance = (token: ERC20) => {\n  const [balance, setBalance] = useState(BigNumber.from(0));\n  const basisCash = useBasisCash();\n\n  const fetchBalance = useCallback(async () => {\n    setBalance(await token.balanceOf(basisCash.myAccount));\n  }, [basisCash?.isUnlocked, token]);\n\n  useEffect(() => {\n    if (basisCash?.isUnlocked) {\n      fetchBalance().catch((err) =>\n        console.error(`Failed to fetch token balance: ${err.stack}`),\n      );\n      let refreshInterval = setInterval(fetchBalance, config.refreshInterval);\n      return () => clearInterval(refreshInterval);\n    }\n  }, [basisCash?.isUnlocked, token]);\n\n  return balance;\n};\n\nexport default useTokenBalance;\n","import React, { useContext } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\n\ninterface LabelProps {\n  text?: string;\n  variant?: 'primary' | 'secondary' | 'normal';\n  color?: string;\n}\n\nconst Label: React.FC<LabelProps> = ({ text, variant = 'secondary', color: customColor }) => {\n  const { color } = useContext(ThemeContext);\n\n  let labelColor: string;\n  if (customColor) {\n    labelColor = customColor;\n  } else {\n    if (variant === 'primary') {\n      labelColor = color.primary.main;\n\n    } else if (variant === 'secondary') {\n      labelColor = color.secondary.main;\n\n    } else if (variant === 'normal') {\n      labelColor = color.grey[300];\n    }\n  }\n  return (\n    <StyledLabel color={labelColor}>{text}</StyledLabel>\n  );\n}\n\ninterface StyledLabelProps {\n  color: string;\n}\n\nconst StyledLabel = styled.div<StyledLabelProps>`\n  color: ${props => props.color};\n`\n\nexport default Label","import React from 'react'\nimport styled from 'styled-components'\n\nconst Card: React.FC = ({ children }) => (\n  <StyledCard>\n    {children}\n  </StyledCard>\n)\n\nconst StyledCard = styled.div`\n  background-color: ${props => props.theme.color.grey[800]};\n  border: 1px solid ${props => props.theme.color.grey[900]};\n  border-radius: 12px;\n  box-shadow: inset 1px 1px 0px ${props => props.theme.color.grey[700]};\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n`\n\nexport default Card","import React from 'react'\nimport styled from 'styled-components'\n\nconst CardContent: React.FC = ({ children }) => (\n  <StyledCardContent>\n    {children}\n  </StyledCardContent>\n)\n\nconst StyledCardContent = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  padding: ${props => props.theme.spacing[4]}px;\n`\n\nexport default CardContent","import React from 'react';\nimport styled from 'styled-components';\n\nimport Card from '../Card';\nimport CardContent from '../CardContent';\nimport Container from '../Container';\n\nexport interface ModalProps {\n  onDismiss?: () => void;\n}\n\nconst Modal: React.FC = ({ children }) => {\n  return (\n    <Container size=\"sm\">\n      <StyledModal>\n        <Card>\n          <CardContent>{children}</CardContent>\n        </Card>\n      </StyledModal>\n    </Container>\n  );\n};\n\nconst StyledModal = styled.div`\n  border-radius: 12px;\n  box-shadow: 24px 24px 48px -24px ${(props) => props.theme.color.grey[900]};\n  position: relative;\n`;\n\nexport default Modal;\n","import React from 'react'\nimport styled from 'styled-components'\n\ninterface ModalTitleProps {\n  text?: string\n}\n\nconst ModalTitle: React.FC<ModalTitleProps> = ({ text }) => (\n  <StyledModalTitle>\n    {text}\n  </StyledModalTitle>\n)\n\nconst StyledModalTitle = styled.div`\n  align-items: center;\n  color: ${props => props.theme.color.grey[300]};\n  display: flex;\n  font-size: 18px;\n  font-weight: 700;\n  height: ${props => props.theme.topBarSize}px;\n  justify-content: center;\n  margin-top: ${props => -props.theme.spacing[4]}px;\n`\n\nexport default ModalTitle","import React from 'react';\n\nimport bacLogo from '../../assets/img/basis-cash-logo.svg';\nimport basLogo from '../../assets/img/basis-share-logo.svg';\nimport babLogo from '../../assets/img/basis-bond-logo.svg';\nimport yCRVLogo from '../../assets/img/ycrv.png';\nimport DAILogo from '../../assets/img/DAI.png';\nimport sUSDLogo from '../../assets/img/sUSD.png';\nimport USDCLogo from '../../assets/img/USDC.png';\nimport USDTLogo from '../../assets/img/USDT.png';\nimport GOTLogo from '../../assets/img/Goswap-logo-GOT.png';\n\nconst logosBySymbol: {[title: string]: string} = {\n  'GOC': bacLogo,\n  'GOB': babLogo,\n  'GOS': basLogo,\n  'yCRV': yCRVLogo,\n  'DAI': DAILogo,\n  'SUSD': sUSDLogo,\n  'USDC': USDCLogo,\n  'USDT': USDTLogo,\n  'GOC_HUSD-GLP': bacLogo,\n  'GOS_HUSD-GLP': basLogo,\n  'HT_HUSD-GLP': GOTLogo,\n  'GOT_HUSD-GLP': GOTLogo,\n};\n\ntype BasisLogoProps = {\n  symbol: string;\n  size?: number;\n}\n\nconst TokenSymbol: React.FC<BasisLogoProps> = ({ symbol, size = 64 }) => {\n  if (!logosBySymbol[symbol]) {\n    throw new Error(`Invalid BasisLogo symbol: ${symbol}`);\n  }\n  return (\n    <img\n      src={logosBySymbol[symbol]}\n      alt={`${symbol} Logo`}\n      width={size}\n      height={size}\n    />\n  )\n};\n\nexport default TokenSymbol;\n","import React, { useMemo } from 'react';\nimport styled from 'styled-components';\nimport useTokenBalance from '../../../hooks/useTokenBalance';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\n\nimport Button from '../../Button';\nimport Label from '../../Label';\nimport Modal, { ModalProps } from '../../Modal';\nimport ModalTitle from '../../ModalTitle';\nimport useBasisCash from '../../../hooks/useBasisCash';\nimport TokenSymbol from '../../TokenSymbol';\n\nconst AccountModal: React.FC<ModalProps> = ({ onDismiss }) => {\n  const basisCash = useBasisCash();\n\n  const bacBalance = useTokenBalance(basisCash.GOC);\n  const displayBacBalance = useMemo(() => getDisplayBalance(bacBalance), [bacBalance]);\n\n  const basBalance = useTokenBalance(basisCash.GOS);\n  const displayBasBalance = useMemo(() => getDisplayBalance(basBalance), [basBalance]);\n\n  const babBalance = useTokenBalance(basisCash.GOB);\n  const displayBabBalance = useMemo(() => getDisplayBalance(babBalance), [babBalance]);\n\n  return (\n    <Modal>\n      <ModalTitle text=\"My Wallet\" />\n\n      <Balances>\n        <StyledBalanceWrapper>\n          <TokenSymbol symbol=\"GOC\" />\n          <StyledBalance>\n            <StyledValue>{displayBacBalance}</StyledValue>\n            <Label text=\"GOC Available\" />\n          </StyledBalance>\n        </StyledBalanceWrapper>\n\n        <StyledBalanceWrapper>\n          <TokenSymbol symbol=\"GOS\" />\n          <StyledBalance>\n            <StyledValue>{displayBasBalance}</StyledValue>\n            <Label text=\"GOS Available\" />\n          </StyledBalance>\n        </StyledBalanceWrapper>\n\n        <StyledBalanceWrapper>\n          <TokenSymbol symbol=\"GOB\" />\n          <StyledBalance>\n            <StyledValue>{displayBabBalance}</StyledValue>\n            <Label text=\"GOB Available\" />\n          </StyledBalance>\n        </StyledBalanceWrapper>\n      </Balances>\n    </Modal>\n  )\n}\n\nconst StyledValue = styled.div`\n  color: ${props => props.theme.color.grey[300]};\n  font-size: 30px;\n  font-weight: 700;\n`\n\nconst StyledBalance = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n`\n\nconst Balances = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  margin-bottom: ${props => props.theme.spacing[4]}px;\n`\n\nconst StyledBalanceWrapper = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  margin: 0 ${props => props.theme.spacing[3]}px;\n`\n\nconst StyledBalanceIcon = styled.div`\n  font-size: 36px;\n  margin-right: ${props => props.theme.spacing[3]}px;\n`\n\nconst StyledBalanceActions = styled.div`\n  align-items: center;\n  display: flex;\n  margin-top: ${props => props.theme.spacing[4]}px;\n`\n\nexport default AccountModal","import React from 'react';\nimport styled from 'styled-components';\n\nimport { useWallet } from 'use-wallet';\n\nimport useModal from '../../../hooks/useModal';\n\nimport Button from '../../Button';\n\nimport AccountModal from './AccountModal';\n\ninterface AccountButtonProps {}\n\nconst AccountButton: React.FC<AccountButtonProps> = (props) => {\n  const [onPresentAccountModal] = useModal(<AccountModal />)\n  \n  const { account, connect } = useWallet()\n\n  return (\n    <StyledAccountButton>\n      {!account ? (\n        <Button\n          onClick={() => connect('injected')}\n          size=\"sm\"\n          text=\"Unlock Wallet\"\n        />\n      ) : (\n        <Button\n          onClick={onPresentAccountModal}\n          size=\"sm\"\n          text=\"My Wallet\"\n        />\n      )}\n    </StyledAccountButton>\n  )\n}\n\nconst StyledAccountButton = styled.div``\n\nexport default AccountButton","import React from 'react'\nimport styled from 'styled-components'\nimport { NavLink } from 'react-router-dom'\n\nconst Nav: React.FC = () => {\n  return (\n    <StyledNav>\n      <StyledLink exact activeClassName=\"active\" to=\"/\">Home</StyledLink>\n      <StyledLink exact activeClassName=\"active\" to=\"/bank\">Bank</StyledLink>\n      <StyledLink exact activeClassName=\"active\" to=\"/bonds\">Bonds</StyledLink>\n      <StyledLink exact activeClassName=\"active\" to=\"/boardroom\">Boardroom</StyledLink>\n      <StyledLink2 href=\"https://snapshot.page/#/basiscash.eth\" target=\"_blank\" >Vote</StyledLink2>\n    </StyledNav>\n  )\n}\n\nconst StyledNav = styled.nav`\n  align-items: center;\n  display: flex;\n`\n\nconst StyledLink = styled(NavLink)`\n  color: ${props => props.theme.color.grey[400]};\n  font-weight: 700;\n  padding-left: ${props => props.theme.spacing[3]}px;\n  padding-right: ${props => props.theme.spacing[3]}px;\n  text-decoration: none;\n  &:hover {\n    color: ${props => props.theme.color.grey[500]};\n  }\n  &.active {\n    color: ${props => props.theme.color.primary.main};\n  }\n`\nconst StyledLink2 = styled.a`\n  color: ${props => props.theme.color.grey[400]};\n  font-weight: 700;\n  padding-left: ${props => props.theme.spacing[3]}px;\n  padding-right: ${props => props.theme.spacing[3]}px;\n  text-decoration: none;\n  &:hover {\n    color: ${props => props.theme.color.grey[500]};\n  }\n  &.active {\n    color: ${props => props.theme.color.primary.main};\n  }\n`\n\nexport default Nav","import { createAction } from '@reduxjs/toolkit';\nimport { ChainId } from 'goswap-sdk';\n\nexport interface SerializableTransactionReceipt {\n  to: string;\n  from: string;\n  contractAddress: string;\n  transactionIndex: number;\n  blockHash: string;\n  transactionHash: string;\n  blockNumber: number;\n  status?: number;\n}\n\nexport const addTransaction = createAction<{\n  chainId: ChainId;\n  hash: string;\n  from: string;\n  approval?: { tokenAddress: string; spender: string };\n  summary?: string;\n}>('transactions/addTransaction');\n\nexport const clearAllTransactions = createAction<{ chainId: ChainId }>(\n  'transactions/clearAllTransactions',\n);\n\nexport const finalizeTransaction = createAction<{\n  chainId: ChainId;\n  hash: string;\n  receipt: SerializableTransactionReceipt;\n}>('transactions/finalizeTransaction');\n\nexport const checkedTransaction = createAction<{\n  chainId: ChainId;\n  hash: string;\n  blockNumber: number;\n}>('transactions/checkedTransaction');\n","import { TransactionResponse } from '@ethersproject/providers';\nimport { useCallback, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useWallet } from 'use-wallet';\n\nimport { AppDispatch, AppState } from '../index';\nimport { addTransaction, clearAllTransactions } from './actions';\nimport { TransactionDetails } from './reducer';\n\n// helper that can take a ethers library transaction response and add it to the list of transactions\nexport function useTransactionAdder(): (\n  response: TransactionResponse,\n  customData?: { summary?: string; approval?: { tokenAddress: string; spender: string } },\n) => void {\n  const { chainId, account } = useWallet();\n  const dispatch = useDispatch<AppDispatch>();\n\n  return useCallback(\n    (\n      response: TransactionResponse,\n      {\n        summary,\n        approval,\n      }: { summary?: string; approval?: { tokenAddress: string; spender: string } } = {},\n    ) => {\n      if (!account) return;\n      if (!chainId) return;\n\n      const { hash } = response;\n      if (!hash) {\n        throw Error('No transaction hash found.');\n      }\n      dispatch(addTransaction({ hash, from: account, chainId, approval, summary }));\n    },\n    [dispatch, chainId, account],\n  );\n}\n\n// returns all the transactions for the current chain\nexport function useAllTransactions(): { [txHash: string]: TransactionDetails } {\n  const { chainId } = useWallet();\n  const state = useSelector<AppState, AppState['transactions']>((state) => state.transactions);\n\n  return chainId ? state[chainId] ?? {} : {};\n}\n\nexport function useIsTransactionPending(transactionHash?: string): boolean {\n  const transactions = useAllTransactions();\n  if (!transactionHash || !transactions[transactionHash]) {\n    return false;\n  }\n  return !transactions[transactionHash].receipt;\n}\n\n/**\n * Returns whether a transaction happened in the last day (86400 seconds * 1000 milliseconds / second)\n * @param tx to check for recency\n */\nexport function isTransactionRecent(tx: TransactionDetails): boolean {\n  return new Date().getTime() - tx.addedTime < 86_400_000;\n}\n\n// returns whether a token has a pending approval transaction\nexport function useHasPendingApproval(\n  tokenAddress: string | undefined,\n  spender: string | undefined,\n): boolean {\n  const allTransactions = useAllTransactions();\n  return useMemo(\n    () =>\n      typeof tokenAddress === 'string' &&\n      typeof spender === 'string' &&\n      Object.keys(allTransactions).some((hash) => {\n        const tx = allTransactions[hash];\n        if (!tx) return false;\n        if (tx.receipt) {\n          return false;\n        } else {\n          const approval = tx.approval;\n          if (!approval) return false;\n          return (\n            approval.spender === spender &&\n            approval.tokenAddress === tokenAddress &&\n            isTransactionRecent(tx)\n          );\n        }\n      }),\n    [allTransactions, spender, tokenAddress],\n  );\n}\n\nexport function useClearAllTransactions(): { clearAllTransactions: () => void } {\n  const { chainId } = useWallet();\n  const dispatch = useDispatch<AppDispatch>();\n  return {\n    clearAllTransactions: useCallback(() => dispatch(clearAllTransactions({ chainId })), [\n      dispatch,\n    ]),\n  };\n}\n","import React from 'react';\nimport styled, { keyframes } from 'styled-components';\n\nconst rotate = keyframes`\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n`;\n\nconst StyledSVG = styled.svg<{ size: string; stroke?: string }>`\n  animation: 2s ${rotate} linear infinite;\n  height: ${({ size }) => size};\n  width: ${({ size }) => size};\n  path {\n    stroke: ${({ stroke, theme }) => stroke ?? theme.primary1};\n  }\n`;\n\n/**\n * Takes in custom size and stroke for circle color, default to primary color as fill,\n * need ...rest for layered styles on top\n */\nexport default function MiniLoader({\n  size = '16px',\n  stroke,\n  ...rest\n}: {\n  size?: string;\n  stroke?: string;\n}) {\n  return (\n    <StyledSVG\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      size={size}\n      stroke={stroke}\n      {...rest}\n    >\n      <path\n        d=\"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 9.27455 20.9097 6.80375 19.1414 5\"\n        strokeWidth=\"2.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </StyledSVG>\n  );\n}\n","import styled from 'styled-components'\n\nconst Row = styled.div<{ align?: string; padding?: string; border?: string; borderRadius?: string }>`\n  width: 100%;\n  display: flex;\n  padding: 0;\n  align-items: ${({ align }) => (align ? align : 'center')};\n  padding: ${({ padding }) => padding};\n  border: ${({ border }) => border};\n  border-radius: ${({ borderRadius }) => borderRadius};\n`\n\nexport const RowBetween = styled(Row)`\n  justify-content: space-between;\n`\n\nexport const RowFlat = styled.div`\n  display: flex;\n  align-items: flex-end;\n`\n\nexport const AutoRow = styled(Row)<{ gap?: string; justify?: string }>`\n  flex-wrap: wrap;\n  margin: ${({ gap }) => gap && `-${gap}`};\n  justify-content: ${({ justify }) => justify && justify};\n\n  & > * {\n    margin: ${({ gap }) => gap} !important;\n  }\n`\n\nexport const RowFixed = styled(Row)<{ gap?: string; justify?: string }>`\n  width: fit-content;\n  margin: ${({ gap }) => gap && `-${gap}`};\n`\n\nexport default Row\n","import React from 'react';\nimport styled from 'styled-components';\nimport { CheckCircle, Triangle } from 'react-feather';\n\nimport MiniLoader from '../../MiniLoader';\nimport { TransactionDetails } from '../../../state/transactions/reducer';\nimport config from '../../../config';\nimport { RowFixed } from '../../Row';\n\nconst TransactionWrapper = styled.div`\n  display: flex;\n  height: 30px;\n`;\n\nconst TransactionStatusText = styled.div`\n  margin-right: 0.5rem;\n  display: flex;\n  align-items: center;\n  :hover {\n    text-decoration: underline;\n  }\n`;\n\nconst TransactionState = styled.a<{ pending: boolean; success?: boolean }>`\n  flex: 1;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  text-decoration: none !important;\n  border-radius: 0.5rem;\n  padding: 0.25rem 0rem;\n  font-weight: 500;\n  font-size: 0.825rem;\n  color: ${(props) => props.theme.color.grey[400]};\n`;\n\nconst IconWrapper = styled.div<{ pending: boolean; success?: boolean }>`\n  color: ${({ pending, success, theme }) =>\n    pending ? theme.primary1 : success ? theme.green1 : theme.red1};\n`;\n\ninterface TransactionProps {\n  tx: TransactionDetails;\n}\n\nconst Transaction: React.FC<TransactionProps> = ({ tx }) => {\n  const summary = tx.summary;\n  const pending = !tx.receipt;\n  const success =\n    !pending && tx && (tx.receipt?.status === 1 || typeof tx.receipt?.status === 'undefined');\n\n  return (\n    <TransactionWrapper>\n      <TransactionState\n        href={`${config.etherscanUrl}/tx/${tx.hash}`}\n        target=\"_blank\"\n        pending={pending}\n        success={success}\n      >\n        <RowFixed>\n          <TransactionStatusText>{summary ?? tx.hash} </TransactionStatusText>\n        </RowFixed>\n        <IconWrapper pending={pending} success={success}>\n          {pending ? (\n            <MiniLoader />\n          ) : success ? (\n            <CheckCircle size=\"16\" />\n          ) : (\n            <Triangle size=\"16\" />\n          )}\n        </IconWrapper>\n      </TransactionState>\n    </TransactionWrapper>\n  );\n};\n\nexport default Transaction;\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst ModalActions: React.FC = ({ children }) => {\n  const l = React.Children.toArray(children).length\n  return (\n    <StyledModalActions>\n      {React.Children.map(children, (child, i) => (\n        <>\n          <StyledModalAction>\n            {child}\n          </StyledModalAction>\n          {i < l - 1 && <StyledSpacer />}\n        </>\n      ))}\n    </StyledModalActions>\n  )\n}\n\nconst StyledModalActions = styled.div`\n  align-items: center;\n  background-color: ${props => props.theme.color.grey[100]}00;\n  display: flex;\n  height: 96px;\n  margin: ${props => props.theme.spacing[4]}px ${props => -props.theme.spacing[4]}px ${props => -props.theme.spacing[4]}px;\n  padding: 0 ${props => props.theme.spacing[4]}px;\n`\n\nconst StyledModalAction = styled.div`\n  flex: 1;\n`\n\nconst StyledSpacer = styled.div`\n  width: ${props => props.theme.spacing[4]}px;\n`\n\nexport default ModalActions","import React, { useContext } from 'react'\nimport styled, { ThemeContext } from 'styled-components'\n\ninterface SpacerProps {\n  size?: 'sm' | 'md' | 'lg'\n}\n\nconst Spacer: React.FC<SpacerProps> = ({ size = 'md' }) => {\n  const { spacing } = useContext(ThemeContext)\n  \n  let s: number\n  switch (size) {\n    case 'lg':\n      s = spacing[6]\n      break\n    case 'sm':\n      s = spacing[2]\n      break\n    case 'md':\n    default:\n      s = spacing[4]\n  }\n  \n  return (\n    <StyledSpacer size={s} />\n  )\n}\n\ninterface StyledSpacerProps {\n  size: number,\n}\n\nconst StyledSpacer = styled.div<StyledSpacerProps>`\n  height: ${props => props.size}px;\n  width: ${props => props.size}px;\n`\n\nexport default Spacer","import React, { useMemo } from 'react';\nimport Modal, { ModalProps } from '../../Modal';\nimport Label from '../../Label';\nimport Button from '../../Button';\nimport { TransactionDetails } from '../../../state/transactions/reducer';\nimport styled from 'styled-components';\nimport Transaction from './Transaction';\nimport ModalActions from '../../ModalActions';\nimport Spacer from '../../Spacer';\nimport { isTransactionRecent, useAllTransactions, useClearAllTransactions } from '../../../state/transactions/hooks';\nimport { Trash } from 'react-feather';\n\nconst MAX_TRANSACTION_HISTORY = 10;\n\nconst TxModal: React.FC<ModalProps> = ({ onDismiss }) => {\n  const allTransactions = useAllTransactions();\n  const { clearAllTransactions } = useClearAllTransactions();\n\n  const sortedRecentTransactions = useMemo(() => {\n    const txs = Object.values(allTransactions);\n    return txs.filter(isTransactionRecent).sort(newTransactionsFirst);\n  }, [allTransactions]);\n\n  const pending = sortedRecentTransactions.filter((tx) => !tx.receipt);\n  const confirmed = sortedRecentTransactions\n    .filter((tx) => tx.receipt)\n    .slice(0, MAX_TRANSACTION_HISTORY);\n\n  const isEmpty = (confirmed?.length + pending?.length) == 0;\n  return (\n    <StyledModal>\n      <StyledTitleArea>\n        <StyledModalTitle>Transactions</StyledModalTitle>\n        {confirmed?.length > 0 && (\n          <StyledClearIconWrapper>\n            <Trash onClick={clearAllTransactions} size=\"16\" />\n          </StyledClearIconWrapper>\n        )}\n      </StyledTitleArea>\n      {pending?.length > 0 && (\n        <>\n          <Label text=\"Pending transactions\" />\n          <StyledTransactionList>\n            {pending.map(tx => <Transaction key={tx.hash} tx={tx} />)}\n          </StyledTransactionList>\n          <Spacer size=\"sm\" />\n        </>\n      )}\n      {confirmed?.length > 0 && (\n        <>\n          <Label text=\"Recent transactions\" />\n          <StyledTransactionList>\n            {confirmed.map(tx => <Transaction key={tx.hash} tx={tx} />)}\n          </StyledTransactionList>\n        </>\n      )}\n      {isEmpty && (\n        <Label text=\"No transactions.\" color=\"#777\" />\n      )}\n      <ModalActions>\n        <Button text=\"Close\" onClick={onDismiss} />\n      </ModalActions>\n    </StyledModal>\n  )\n}\n\nconst StyledModal = styled(Modal)`\n  width: 360px;\n`;\n\nconst StyledTitleArea = styled.div`\n  display: flex;\n  align-items: center;\n  height: ${props => props.theme.topBarSize}px;\n  margin-top: ${props => -props.theme.spacing[4]}px;\n`;\n\nconst StyledModalTitle = styled.div`\n  color: ${props => props.theme.color.grey[300]};\n  flex: 1;\n  font-size: 18px;\n  font-weight: 700;\n`;\n\nconst StyledClearIconWrapper = styled.div`\n  color: ${({ theme }) => theme.color.grey[300]};\n`;\n\nconst StyledTransactionList = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\n// we want the latest one to come first, so return negative if a is after b\nfunction newTransactionsFirst(a: TransactionDetails, b: TransactionDetails) {\n  return b.addedTime - a.addedTime;\n}\n\nexport default TxModal;","import React, { useMemo } from 'react';\nimport styled from 'styled-components';\nimport { useWallet } from 'use-wallet';\nimport Button from '../../Button';\nimport { isTransactionRecent, useAllTransactions } from '../../../state/transactions/hooks';\nimport useModal from '../../../hooks/useModal';\nimport TxModal from './TxModal';\n\ninterface TxButtonProps {}\n\nconst TxButton: React.FC<TxButtonProps> = () => {\n  const { account } = useWallet();\n  const allTransactions = useAllTransactions();\n\n  const pendingTransactions = useMemo(\n    () => Object.values(allTransactions).filter((tx) => !tx.receipt).length,\n    [allTransactions],\n  );\n\n  const [onPresentTransactionModal, onDismissTransactionModal] = useModal(\n    <TxModal onDismiss={() => onDismissTransactionModal()} />,\n  );\n  return (\n    <>\n      {!!account && (\n        <StyledTxButton>\n          <Button\n            size=\"sm\"\n            text={\n              pendingTransactions > 0 ? `${pendingTransactions} Pending` : `Transactions`\n            }\n            variant={pendingTransactions > 0 ? 'secondary' : 'default'}\n            onClick={() => onPresentTransactionModal()}\n          />\n        </StyledTxButton>\n      )}\n    </>\n  );\n};\n\nconst StyledTxButton = styled.div`\n  margin-right: ${(props) => props.theme.spacing[4]}px;\n`;\n\nexport default TxButton;\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport Container from '../Container'\nimport Logo from '../Logo'\n\nimport AccountButton from './components/AccountButton'\nimport Nav from './components/Nav'\nimport TxButton from './components/TxButton'\n\nconst TopBar: React.FC = () => {\n  return (\n    <StyledTopBar>\n      <Container size=\"lg\">\n        <StyledTopBarInner>\n          <div style={{ flex: 1 }}>\n            <Logo />\n          </div>\n          <Nav />\n          <div style={{\n            flex: 1,\n            display: 'flex',\n            justifyContent: 'flex-end'\n          }}>\n            <TxButton />\n            <AccountButton />\n          </div>\n        </StyledTopBarInner>\n      </Container>\n    </StyledTopBar>\n  )\n}\n\nconst StyledTopBar = styled.div``\n\nconst StyledTopBarInner = styled.div`\n  align-items: center;\n  display: flex;\n  height: ${props => props.theme.topBarSize}px;\n  justify-content: space-between;\n  max-width: ${props => props.theme.siteWidth}px;\n  width: 100%;\n  flex-wrap: wrap;\n`\n\nexport default TopBar","import React from 'react'\nimport styled from 'styled-components'\n\nimport Footer from '../Footer'\nimport TopBar from '../TopBar'\n\nconst Page: React.FC = ({ children }) => (\n  <StyledPage>\n    <TopBar />\n    <StyledMain>\n      {children}\n    </StyledMain>\n    <Footer />\n  </StyledPage>\n)\n\nconst StyledPage = styled.div``\n\nconst StyledMain = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  min-height: calc(100vh - ${props => props.theme.topBarSize * 2}px);\n  padding-bottom: ${props => props.theme.spacing[5]}px;\n`\n\nexport default Page","import React from 'react'\nimport styled from 'styled-components'\n\ninterface PageHeaderProps {\n  icon: React.ReactNode,\n  subtitle?: string,\n  title?: string,\n}\n\nconst PageHeader: React.FC<PageHeaderProps> = ({ icon, subtitle, title }) => {\n  return (\n    <StyledPageHeader>\n      <StyledIcon>{icon}</StyledIcon>\n      <StyledTitle>{title}</StyledTitle>\n      <StyledSubtitle>{subtitle}</StyledSubtitle>\n    </StyledPageHeader>\n  )\n}\n\nconst StyledPageHeader = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: ${props => props.theme.spacing[6]}px;\n  padding-top: ${props => props.theme.spacing[6]}px;\n  max-width: 512px;\n  width: 100%;\n  margin: 0 auto;\n`\n\nconst StyledIcon = styled.div`\n  font-size: 96px;\n  height: 96px;\n  line-height: 96px;\n  text-align: center;\n  width: 96px;\n`\n\nconst StyledTitle = styled.h1`\n  color: ${props => props.theme.color.grey[100]};\n  font-size: 36px;\n  font-weight: 700;\n  margin: 0;\n  padding: 0;\n`\n\nconst StyledSubtitle = styled.h3`\n  color: ${props => props.theme.color.grey[400]};\n  font-size: 18px;\n  font-weight: 400;\n  margin: 0;\n  padding: 0;\n  text-align: center;\n`\n\nexport default PageHeader","import React from 'react'\nimport styled from 'styled-components'\n\ninterface CardIconProps {\n  children?: React.ReactNode,\n}\n\nconst CardIcon: React.FC<CardIconProps> = ({ children }) => (\n  <StyledCardIcon>\n    {children}\n  </StyledCardIcon>\n)\n\nconst StyledCardIcon = styled.div`\n  background-color: ${props => props.theme.color.white};\n  font-size: 36px;\n  height: 80px;\n  width: 80px;\n  border-radius: 40px;\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  box-shadow: inset 4px 4px 8px ${props => props.theme.color.grey[300]},\n    inset -6px -6px 12px ${props => props.theme.color.grey[100]};\n  margin: 0 auto ${props => props.theme.spacing[3]}px;\n`\n\nexport default CardIcon","import React from 'react'\n\nimport styled from 'styled-components'\n\ninterface ValueProps {\n  value: string,\n}\n\nconst Value: React.FC<ValueProps> = ({ value }) => {\n  return (\n    <StyledValue>{value}</StyledValue>\n  )\n}\n\nconst StyledValue = styled.div`\n  color: ${props => props.theme.color.grey[200]};\n  font-size: 36px;\n  font-weight: 700;\n`\n\nexport default Value","import { useCallback, useEffect, useState } from 'react';\nimport { BigNumber } from 'ethers';\nimport useBasisCash from './useBasisCash';\nimport { ContractName } from '../basis-cash';\nimport config from '../config';\n\nconst useEarnings = (poolName: ContractName) => {\n  const [balance, setBalance] = useState(BigNumber.from(0));\n  const basisCash = useBasisCash();\n\n  const fetchBalance = useCallback(async () => {\n    const balance = await basisCash.earnedFromBank(poolName, basisCash.myAccount);\n    setBalance(balance);\n  }, [basisCash?.isUnlocked, poolName]);\n\n  useEffect(() => {\n    if (basisCash?.isUnlocked) {\n      fetchBalance().catch((err) => console.error(err.stack));\n\n      const refreshBalance = setInterval(fetchBalance, config.refreshInterval);\n      return () => clearInterval(refreshBalance);\n    }\n  }, [basisCash?.isUnlocked, poolName, basisCash]);\n\n  return balance;\n};\n\nexport default useEarnings;\n","import { createAction } from '@reduxjs/toolkit';\n\nexport type PopupContent = {\n  txn?: {\n    hash: string;\n    success: boolean;\n    summary?: string;\n  };\n  error?: {\n    message: string;\n    stack: string;\n  };\n};\n\nexport const updateBlockNumber = createAction<{ chainId: number; blockNumber: number }>(\n  'app/updateBlockNumber',\n);\n\nexport const toggleWalletModal = createAction<void>('app/toggleWalletModal');\n\nexport const toggleSettingsMenu = createAction<void>('app/toggleSettingsMenu');\n\nexport const addPopup = createAction<{\n  key?: string;\n  removeAfterMs?: number | null;\n  content: PopupContent;\n}>('app/addPopup');\n\nexport const removePopup = createAction<{ key: string }>('app/removePopup');\n","import { useCallback, useMemo } from 'react';\nimport {\n  addPopup,\n  PopupContent,\n  removePopup,\n  toggleWalletModal,\n  toggleSettingsMenu,\n} from './actions';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { AppState } from '../index';\nimport { useWallet } from 'use-wallet';\n\nexport function useBlockNumber(): number | undefined {\n  const { chainId } = useWallet();\n  return useSelector((state: AppState) => state.application.blockNumber[chainId ?? -1]);\n}\n\nexport function useWalletModalOpen(): boolean {\n  return useSelector((state: AppState) => state.application.walletModalOpen);\n}\n\nexport function useWalletModalToggle(): () => void {\n  const dispatch = useDispatch();\n  return useCallback(() => dispatch(toggleWalletModal()), [dispatch]);\n}\n\nexport function useSettingsMenuOpen(): boolean {\n  return useSelector((state: AppState) => state.application.settingsMenuOpen);\n}\n\nexport function useToggleSettingsMenu(): () => void {\n  const dispatch = useDispatch();\n  return useCallback(() => dispatch(toggleSettingsMenu()), [dispatch]);\n}\n\n// returns a function that allows adding a popup\nexport function useAddPopup(): (content: PopupContent, key?: string) => void {\n  const dispatch = useDispatch();\n\n  return useCallback(\n    (content: PopupContent, key?: string) => {\n      dispatch(addPopup({ content, key }));\n    },\n    [dispatch],\n  );\n}\n\n// returns a function that allows removing a popup via its key\nexport function useRemovePopup(): (key: string) => void {\n  const dispatch = useDispatch();\n  return useCallback(\n    (key: string) => {\n      dispatch(removePopup({ key }));\n    },\n    [dispatch],\n  );\n}\n\n// get the list of active popups\nexport function useActivePopups(): AppState['application']['popupList'] {\n  const list = useSelector((state: AppState) => state.application.popupList);\n  return useMemo(() => list.filter((item) => item.show), [list]);\n}\n","import { useCallback } from 'react';\nimport { TransactionResponse } from '@ethersproject/providers';\nimport { useTransactionAdder } from '../state/transactions/hooks';\nimport { useAddPopup } from '../state/application/hooks';\n\nfunction useHandleTransactionReceipt(): (\n  promise: Promise<TransactionResponse>,\n  summary: string,\n) => void {\n  const addTransaction = useTransactionAdder();\n  const addPopup = useAddPopup();\n\n  return useCallback(\n    (promise: Promise<TransactionResponse>, summary: string) => {\n      promise\n        .then((tx) => addTransaction(tx, { summary }))\n        .catch((err) => {\n          if (err.message.includes('User denied')) {\n            // User denied transaction signature on MetaMask.\n            return;\n          }\n          const message = `Unable to ${summary[0].toLowerCase()}${summary.slice(1)}`;\n          console.error(`${message}: ${err.message || err.stack}`);\n          addPopup({ error: { message, stack: err.message || err.stack } });\n        });\n    },\n    [addPopup],\n  );\n}\n\nexport default useHandleTransactionReceipt;\n","import { useCallback } from 'react';\nimport useBasisCash from './useBasisCash';\nimport useHandleTransactionReceipt from './useHandleTransactionReceipt';\nimport { Bank } from '../basis-cash';\n\nconst useHarvest = (bank: Bank) => {\n  const basisCash = useBasisCash();\n  const handleTransactionReceipt = useHandleTransactionReceipt();\n\n  const handleReward = useCallback(() => {\n    handleTransactionReceipt(\n      basisCash.harvest(bank.contract),\n      `Claim ${bank.earnTokenName} from ${bank.contract}`,\n    );\n  }, [bank, basisCash]);\n\n  return { onReward: handleReward };\n};\n\nexport default useHarvest;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { Contract } from 'ethers';\n\nimport Button from '../../../components/Button';\nimport Card from '../../../components/Card';\nimport CardContent from '../../../components/CardContent';\nimport CardIcon from '../../../components/CardIcon';\nimport Label from '../../../components/Label';\nimport Value from '../../../components/Value';\n\nimport useEarnings from '../../../hooks/useEarnings';\nimport useHarvest from '../../../hooks/useHarvest';\n\nimport { getDisplayBalance } from '../../../utils/formatBalance';\nimport TokenSymbol from '../../../components/TokenSymbol';\nimport { Bank } from '../../../basis-cash';\n\ninterface HarvestProps {\n  bank: Bank;\n}\n\nconst Harvest: React.FC<HarvestProps> = ({ bank }) => {\n  const earnings = useEarnings(bank.contract);\n  const { onReward } = useHarvest(bank);\n\n  const tokenName = bank.earnTokenName === 'GOS' ? 'Share' : 'Cash';\n  return (\n    <Card>\n      <CardContent>\n        <StyledCardContentInner>\n          <StyledCardHeader>\n            <CardIcon>\n              <TokenSymbol symbol={bank.earnToken.symbol} />\n            </CardIcon>\n            <Value value={getDisplayBalance(earnings)} />\n            <Label text={`Basis ${tokenName} Earned`} />\n          </StyledCardHeader>\n          <StyledCardActions>\n            <Button onClick={onReward} disabled={earnings.eq(0)} text=\"Settle\"  />\n          </StyledCardActions>\n        </StyledCardContentInner>\n      </CardContent>\n    </Card>\n  );\n};\n\nconst StyledCardHeader = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n`;\nconst StyledCardActions = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: ${(props) => props.theme.spacing[6]}px;\n  width: 100%;\n`;\n\nconst StyledSpacer = styled.div`\n  height: ${(props) => props.theme.spacing[4]}px;\n  width: ${(props) => props.theme.spacing[4]}px;\n`;\n\nconst StyledCardContentInner = styled.div`\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n`;\n\nexport default Harvest;\n","import React from 'react'\nimport styled from 'styled-components'\n\nexport interface IconProps {\n  color?: string,\n  children?: string\n}\n\nconst Icon: React.FC = ({ children }) => (\n  <StyledIcon>\n    {children}\n  </StyledIcon>\n)\n\nconst StyledIcon = styled.div`\n`\n\nexport default Icon","import React, { useContext } from 'react'\nimport { ThemeContext } from 'styled-components'\n\nimport Icon, { IconProps } from '../Icon'\n\nconst AddIcon: React.FC<IconProps> = ({ color }) => {\n  const { color: themeColor } = useContext(ThemeContext)\n  return (\n    <Icon>\n      <svg\n        height=\"24\"\n        viewBox=\"0 0 24 24\"\n        width=\"24\"\n      >\n        <path\n          d=\"M0 0h24v24H0z\"\n          fill=\"none\"\n        />\n        <path\n          d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n          fill={color ? color : themeColor.grey[400]}\n        />\n      </svg>\n    </Icon>\n  )\n}\n\nexport default AddIcon","import React, { useContext } from 'react'\nimport { ThemeContext } from 'styled-components'\n\nimport Icon, { IconProps } from '../Icon'\n\nconst RemoveIcon: React.FC<IconProps> = ({ color }) => {\n  const { color: themeColor } = useContext(ThemeContext)\n  return (\n    <Icon>\n      <svg\n        viewBox=\"0 0 24 24\"\n        fill={color ? color : themeColor.grey[400]}\n        width=\"18px\"\n        height=\"18px\"\n      >\n        <path d=\"M0 0h24v24H0z\" fill=\"none\"/>\n        <path d=\"M19 13H5v-2h14v2z\"/>\n      </svg>\n\n    </Icon>\n  )\n}\n\nexport default RemoveIcon","import React from 'react'\nimport styled from 'styled-components'\n\nimport { Link } from 'react-router-dom'\n\ninterface IconButtonProps {\n  children?: React.ReactNode,\n  disabled?: boolean,\n  onClick?: () => void,\n  to?: string\n}\n\nconst IconButton: React.FC<IconButtonProps> = ({ children, disabled, onClick, to }) => {\n  return (\n    <StyledButton disabled={disabled} onClick={onClick}>\n      {!!to ? (\n        <StyledLink to={to}>{children}</StyledLink>\n      ) : children}\n    </StyledButton>\n  )\n}\n\ninterface StyledButtonProps {\n  disabled?: boolean\n}\n/*\n  box-shadow: 6px 6px 12px ${props => props.theme.color.grey[600]},\n    -12px -12px 24px ${props => props.theme.color.grey[800]}aa;\n */\n\nconst StyledButton = styled.button<StyledButtonProps>`\n  align-items: center;\n  background-color: ${props => props.theme.color.grey[!props.disabled ? 700 : 900]};\n  border: 0;\n  border-radius: 28px;\n  color: ${props => !props.disabled ? props.theme.color.primary.main : props.theme.color.grey[500]};\n  cursor: pointer;\n  display: flex;\n  font-weight: 700;\n  height: 56px;\n  justify-content: center;\n  letter-spacing: 1px;\n  outline: none;\n  padding: 0;\n  margin: 0;\n  pointer-events: ${props => !props.disabled ? undefined : 'none'};\n  text-transform: uppercase;\n  width: 56px;\n  &:hover {\n    background-color: ${props => props.theme.color.grey[800]};\n  }\n`\n\nconst StyledLink = styled(Link)`\n  align-items: center;\n  color: inherit;\n  display: flex;\n  flex: 1;\n  height: 56px;\n  justify-content: center;\n  margin: 0 ${props => -props.theme.spacing[4]}px;\n  padding: 0 ${props => props.theme.spacing[4]}px;\n  text-decoration: none;\n`\n\nexport default IconButton","import { BigNumber, ethers } from 'ethers';\nimport { useCallback, useMemo } from 'react';\nimport { useHasPendingApproval, useTransactionAdder } from '../state/transactions/hooks';\nimport useAllowance from './useAllowance';\nimport ERC20 from '../basis-cash/ERC20';\n\nconst APPROVE_AMOUNT = ethers.constants.MaxUint256;\nconst APPROVE_BASE_AMOUNT = BigNumber.from('1000000000000000000000000');\n\nexport enum ApprovalState {\n  UNKNOWN,\n  NOT_APPROVED,\n  PENDING,\n  APPROVED,\n}\n\n// returns a variable indicating the state of the approval and a function which approves if necessary or early returns\nfunction useApprove(token: ERC20, spender: string): [ApprovalState, () => Promise<void>] {\n  const pendingApproval = useHasPendingApproval(token.address, spender);\n  const currentAllowance = useAllowance(token, spender, pendingApproval);\n\n  // check the current approval status\n  const approvalState: ApprovalState = useMemo(() => {\n    // we might not have enough data to know whether or not we need to approve\n    if (!currentAllowance) return ApprovalState.UNKNOWN;\n\n    // amountToApprove will be defined if currentAllowance is\n    return currentAllowance.lt(APPROVE_BASE_AMOUNT)\n      ? pendingApproval\n        ? ApprovalState.PENDING\n        : ApprovalState.NOT_APPROVED\n      : ApprovalState.APPROVED;\n  }, [currentAllowance, pendingApproval]);\n\n  const addTransaction = useTransactionAdder();\n\n  const approve = useCallback(async (): Promise<void> => {\n    if (approvalState !== ApprovalState.NOT_APPROVED) {\n      console.error('approve was called unnecessarily');\n      return;\n    }\n\n    const response = await token.approve(spender, APPROVE_AMOUNT);\n    addTransaction(response, {\n      summary: `Approve ${token.symbol}`,\n      approval: {\n        tokenAddress: token.address,\n        spender: spender,\n      },\n    });\n  }, [approvalState, token, spender, addTransaction]);\n\n  return [approvalState, approve];\n}\n\nexport default useApprove;\n","import { useCallback, useEffect, useState } from 'react';\nimport { useWallet } from 'use-wallet';\nimport { BigNumber } from 'ethers';\nimport ERC20 from '../basis-cash/ERC20';\n\nconst useAllowance = (token: ERC20, spender: string, pendingApproval?: boolean) => {\n  const [allowance, setAllowance] = useState<BigNumber>(null);\n  const { account } = useWallet();\n\n  const fetchAllowance = useCallback(async () => {\n    const allowance = await token.allowance(account, spender);\n    console.log(`Allowance: ${allowance.toString()} ${token.symbol} for ${spender}`);\n    setAllowance(allowance);\n  }, [account, spender, token]);\n\n  useEffect(() => {\n    if (account && spender && token) {\n      fetchAllowance().catch((err) => console.log(`Failed to fetch allowance: ${err.stack}`));\n    }\n  }, [account, spender, token, pendingApproval]);\n\n  return allowance;\n};\n\nexport default useAllowance;\n","import { useCallback } from 'react';\nimport useBasisCash from './useBasisCash';\nimport { Bank } from '../basis-cash';\nimport useHandleTransactionReceipt from './useHandleTransactionReceipt';\nimport { parseUnits } from 'ethers/lib/utils';\n\nconst useStake = (bank: Bank) => {\n  const basisCash = useBasisCash();\n  const handleTransactionReceipt = useHandleTransactionReceipt();\n\n  const handleStake = useCallback(\n    (amount: string) => {\n      const amountBn = parseUnits(amount, bank.depositToken.decimal);\n      handleTransactionReceipt(\n        basisCash.stake(bank.contract, amountBn),\n        `Stake ${amount} ${bank.depositTokenName} to ${bank.contract}`,\n      );\n    },\n    [bank, basisCash],\n  );\n  return { onStake: handleStake };\n};\n\nexport default useStake;\n","import { useCallback, useEffect, useState } from 'react';\n\nimport { BigNumber } from 'ethers';\nimport useBasisCash from './useBasisCash';\nimport { ContractName } from '../basis-cash';\nimport config from '../config';\n\nconst useStakedBalance = (poolName: ContractName) => {\n  const [balance, setBalance] = useState(BigNumber.from(0));\n  const basisCash = useBasisCash();\n\n  const fetchBalance = useCallback(async () => {\n    const balance = await basisCash.stakedBalanceOnBank(poolName, basisCash.myAccount);\n    setBalance(balance);\n  }, [basisCash?.isUnlocked, poolName]);\n\n  useEffect(() => {\n    if (basisCash?.isUnlocked) {\n      fetchBalance().catch(err => console.error(err.stack));\n\n      const refreshBalance = setInterval(fetchBalance, config.refreshInterval);\n      return () => clearInterval(refreshBalance);\n    }\n  }, [basisCash?.isUnlocked, poolName, setBalance, basisCash]);\n\n  return balance;\n};\n\nexport default useStakedBalance;\n","import { useCallback } from 'react';\nimport useBasisCash from './useBasisCash';\nimport { Bank } from '../basis-cash';\nimport useHandleTransactionReceipt from './useHandleTransactionReceipt';\nimport { parseUnits } from 'ethers/lib/utils';\n\nconst useWithdraw = (bank: Bank) => {\n  const basisCash = useBasisCash();\n  const handleTransactionReceipt = useHandleTransactionReceipt();\n\n  const handleWithdraw = useCallback(\n    (amount: string) => {\n      const amountBn = parseUnits(amount, bank.depositToken.decimal);\n      handleTransactionReceipt(\n        basisCash.unstake(bank.contract, amountBn),\n        `Withdraw ${amount} ${bank.depositTokenName} from ${bank.contract}`,\n      );\n    },\n    [bank, basisCash],\n  );\n  return { onWithdraw: handleWithdraw };\n};\n\nexport default useWithdraw;\n","import React from 'react'\nimport styled from 'styled-components'\n\nexport interface InputProps {\n  endAdornment?: React.ReactNode,\n  onChange: (e: React.FormEvent<HTMLInputElement>) => void,\n  placeholder?: string,\n  startAdornment?: React.ReactNode,\n  value: string,\n}\n\nconst Input: React.FC<InputProps> = ({\n  endAdornment,\n  onChange,\n  placeholder,\n  startAdornment,\n  value,\n}) => {\n  return (\n    <StyledInputWrapper>\n      {!!startAdornment && startAdornment}\n      <StyledInput placeholder={placeholder} value={value} onChange={onChange} />\n      {!!endAdornment && endAdornment}\n    </StyledInputWrapper>\n  )\n}\n\nconst StyledInputWrapper = styled.div`\n  align-items: center;\n  background-color: ${props => props.theme.color.grey[200]};\n  border-radius: ${props => props.theme.borderRadius}px;\n  display: flex;\n  padding: 0 ${props => props.theme.spacing[3]}px;\n`\n\nconst StyledInput = styled.input`\n  background: none;\n  border: 0;\n  color: ${props => props.theme.color.grey[600]};\n  font-size: 18px;\n  flex: 1;\n  height: 56px;\n  margin: 0;\n  padding: 0;\n  outline: none;\n`\n\nexport default Input","import React from 'react'\nimport styled from 'styled-components'\n\nimport Button from '../Button'\nimport Input, { InputProps } from '../Input'\n\ninterface TokenInputProps extends InputProps {\n  max: number | string,\n  symbol: string,\n  onSelectMax?: () => void,\n}\n\nconst TokenInput: React.FC<TokenInputProps> = ({\n  max,\n  symbol,\n  onChange,\n  onSelectMax,\n  value,\n}) => {\n  return (\n    <StyledTokenInput>\n      <StyledMaxText>{max.toLocaleString()} {symbol} Available</StyledMaxText>\n      <Input\n        endAdornment={(\n          <StyledTokenAdornmentWrapper>\n            <StyledTokenSymbol>{symbol}</StyledTokenSymbol>\n            <StyledSpacer />\n            <div>\n              <Button size=\"sm\" text=\"Max\" onClick={onSelectMax} />\n            </div>\n          </StyledTokenAdornmentWrapper>\n        )}\n        onChange={onChange}\n        placeholder=\"0\"\n        value={value}\n      />\n    </StyledTokenInput>\n  )\n}\n\n/*\n            <div>\n              <Button size=\"sm\" text=\"Max\" />\n            </div>\n*/\n\nconst StyledTokenInput = styled.div`\n\n`\n\nconst StyledSpacer = styled.div`\n  width: ${props => props.theme.spacing[3]}px;\n`\n\nconst StyledTokenAdornmentWrapper = styled.div`\n  align-items: center;\n  display: flex;\n`\n\nconst StyledMaxText = styled.div`\n  align-items: center;\n  color: ${props => props.theme.color.grey[400]};\n  display: flex;\n  font-size: 14px;\n  font-weight: 700;\n  height: 44px;\n  justify-content: flex-end;\n`\n\nconst StyledTokenSymbol = styled.span`\n  color: ${props => props.theme.color.grey[600]};\n  font-weight: 700;\n`\n\nexport default TokenInput","import React, { useCallback, useMemo, useState } from 'react'\n\nimport Button from '../../../components/Button'\nimport Modal, { ModalProps } from '../../../components/Modal'\nimport ModalActions from '../../../components/ModalActions'\nimport ModalTitle from '../../../components/ModalTitle'\nimport TokenInput from '../../../components/TokenInput'\n\nimport { getFullDisplayBalance } from '../../../utils/formatBalance'\nimport { BigNumber } from 'ethers';\n\ninterface DepositModalProps extends ModalProps {\n  max: BigNumber,\n  decimals: number,\n  onConfirm: (amount: string) => void,\n  tokenName?: string,\n}\n\nconst DepositModal: React.FC<DepositModalProps> = ({ max, decimals, onConfirm, onDismiss, tokenName = '' }) => {\n  const [val, setVal] = useState('')\n\n  const fullBalance = useMemo(() => {\n    return getFullDisplayBalance(max, decimals)\n  }, [max])\n\n  const handleChange = useCallback((e: React.FormEvent<HTMLInputElement>) => {\n    setVal(e.currentTarget.value)\n  }, [setVal])\n\n  const handleSelectMax = useCallback(() => {\n    setVal(fullBalance)\n  }, [fullBalance, setVal])\n\n  return (\n    <Modal>\n      <ModalTitle text={`Deposit ${tokenName}`} />\n      <TokenInput\n        value={val}\n        onSelectMax={handleSelectMax}\n        onChange={handleChange}\n        max={fullBalance}\n        symbol={tokenName}\n      />\n      <ModalActions>\n        <Button text=\"Cancel\" variant=\"secondary\" onClick={onDismiss} />\n        <Button text=\"Confirm\" onClick={() => onConfirm(val)} />\n      </ModalActions>\n    </Modal>\n  )\n}\n\n\nexport default DepositModal","import React, { useCallback, useMemo, useState } from 'react'\n\nimport Button from '../../../components/Button'\nimport Modal, { ModalProps } from '../../../components/Modal'\nimport ModalActions from '../../../components/ModalActions'\nimport ModalTitle from '../../../components/ModalTitle'\nimport TokenInput from '../../../components/TokenInput'\n\nimport { getFullDisplayBalance } from '../../../utils/formatBalance'\nimport { BigNumber } from 'ethers';\n\ninterface WithdrawModalProps extends ModalProps {\n  max: BigNumber,\n  onConfirm: (amount: string) => void,\n  tokenName?: string,\n  decimals?: number,\n}\n\nconst WithdrawModal: React.FC<WithdrawModalProps> = ({ onConfirm, onDismiss, max, tokenName = '', decimals = 18 }) => {\n  const [val, setVal] = useState('')\n\n  const fullBalance = useMemo(() => {\n    return getFullDisplayBalance(max, decimals)\n  }, [max])\n\n  const handleChange = useCallback((e: React.FormEvent<HTMLInputElement>) => {\n    setVal(e.currentTarget.value)\n  }, [setVal])\n\n  const handleSelectMax = useCallback(() => {\n    setVal(fullBalance)\n  }, [fullBalance, setVal])\n\n  return (\n    <Modal>\n      <ModalTitle text={`Withdraw ${tokenName}`} />\n      <TokenInput\n        onSelectMax={handleSelectMax}\n        onChange={handleChange}\n        value={val}\n        max={fullBalance}\n        symbol={tokenName}\n      />\n      <ModalActions>\n        <Button text=\"Cancel\" variant=\"secondary\" onClick={onDismiss} />\n        <Button text=\"Confirm\" onClick={() => onConfirm(val)} />\n      </ModalActions>\n    </Modal>\n  )\n}\n\nexport default WithdrawModal","import React from 'react';\nimport styled from 'styled-components';\n\nimport Button from '../../../components/Button';\nimport Card from '../../../components/Card';\nimport CardContent from '../../../components/CardContent';\nimport CardIcon from '../../../components/CardIcon';\nimport { AddIcon, RemoveIcon } from '../../../components/icons';\nimport IconButton from '../../../components/IconButton';\nimport Label from '../../../components/Label';\nimport Value from '../../../components/Value';\n\nimport useApprove, { ApprovalState } from '../../../hooks/useApprove';\nimport useModal from '../../../hooks/useModal';\nimport useStake from '../../../hooks/useStake';\nimport useStakedBalance from '../../../hooks/useStakedBalance';\nimport useTokenBalance from '../../../hooks/useTokenBalance';\nimport useWithdraw from '../../../hooks/useWithdraw';\n\nimport { getDisplayBalance } from '../../../utils/formatBalance';\n\nimport DepositModal from './DepositModal';\nimport WithdrawModal from './WithdrawModal';\nimport TokenSymbol from '../../../components/TokenSymbol';\nimport { Bank } from '../../../basis-cash';\n\ninterface StakeProps {\n  bank: Bank;\n}\n\nconst Stake: React.FC<StakeProps> = ({ bank }) => {\n  const [approveStatus, approve] = useApprove(bank.depositToken, bank.address);\n\n  // TODO: reactive update of token balance\n  const tokenBalance = useTokenBalance(bank.depositToken);\n  const stakedBalance = useStakedBalance(bank.contract);\n\n  const { onStake } = useStake(bank);\n  const { onWithdraw } = useWithdraw(bank);\n\n  const [onPresentDeposit, onDismissDeposit] = useModal(\n    <DepositModal\n      max={tokenBalance}\n      decimals={bank.depositToken.decimal}\n      onConfirm={(amount) => {\n        onStake(amount);\n        onDismissDeposit();\n      }}\n      tokenName={bank.depositTokenName}\n    />,\n  );\n\n  const [onPresentWithdraw, onDismissWithdraw] = useModal(\n    <WithdrawModal\n      max={stakedBalance}\n      decimals={bank.depositToken.decimal}\n      onConfirm={(amount) => {\n        onWithdraw(amount);\n        onDismissWithdraw();\n      }}\n      tokenName={bank.depositTokenName}\n    />,\n  );\n\n  return (\n    <Card>\n      <CardContent>\n        <StyledCardContentInner>\n          <StyledCardHeader>\n            <CardIcon>\n              <TokenSymbol symbol={bank.depositToken.symbol} size={54} />\n            </CardIcon>\n            <Value value={getDisplayBalance(stakedBalance, bank.depositToken.decimal)} />\n            <Label text={`${bank.depositTokenName} Staked`} />\n          </StyledCardHeader>\n          <StyledCardActions>\n            {approveStatus !== ApprovalState.APPROVED ? (\n              <Button\n                disabled={\n                  approveStatus == ApprovalState.PENDING ||\n                  approveStatus == ApprovalState.UNKNOWN\n                }\n                onClick={approve}\n                text={`Approve ${bank.depositTokenName}`}\n              />\n            ) : (\n              <>\n                <IconButton onClick={onPresentWithdraw}>\n                  <RemoveIcon />\n                </IconButton>\n                <StyledActionSpacer />\n                <IconButton\n                  disabled={bank.finished}\n                  onClick={() => (bank.finished ? null : onPresentDeposit())}\n                >\n                  <AddIcon />\n                </IconButton>\n              </>\n            )}\n          </StyledCardActions>\n        </StyledCardContentInner>\n      </CardContent>\n    </Card>\n  );\n};\n\nconst StyledCardHeader = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n`;\nconst StyledCardActions = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: ${(props) => props.theme.spacing[6]}px;\n  width: 100%;\n`;\n\nconst StyledActionSpacer = styled.div`\n  height: ${(props) => props.theme.spacing[4]}px;\n  width: ${(props) => props.theme.spacing[4]}px;\n`;\n\nconst StyledCardContentInner = styled.div`\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n`;\n\nexport default Stake;\n","import { useContext } from 'react';\nimport { Context as BanksContext } from '../contexts/Banks';\nimport { Bank, ContractName } from '../basis-cash';\n\nconst useBank = (contractName: ContractName): Bank => {\n  const { banks } = useContext(BanksContext);\n  return banks.find((bank) => bank.contract === contractName);\n};\n\nexport default useBank;\n","import { useCallback } from 'react';\nimport useBasisCash from './useBasisCash';\nimport { Bank } from '../basis-cash';\nimport useHandleTransactionReceipt from './useHandleTransactionReceipt';\n\nconst useRedeem = (bank: Bank) => {\n  const basisCash = useBasisCash();\n  const handleTransactionReceipt = useHandleTransactionReceipt();\n\n  const handleRedeem = useCallback(() => {\n    handleTransactionReceipt(basisCash.exit(bank.contract), `Redeem ${bank.contract}`);\n  }, [bank, basisCash]);\n\n  return { onRedeem: handleRedeem };\n};\n\nexport default useRedeem;\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\n\nimport { useParams } from 'react-router-dom';\nimport { useWallet } from 'use-wallet';\n\nimport Button from '../../components/Button';\nimport PageHeader from '../../components/PageHeader';\nimport Spacer from '../../components/Spacer';\nimport Harvest from './components/Harvest';\nimport Stake from './components/Stake';\nimport useBank from '../../hooks/useBank';\nimport useRedeem from '../../hooks/useRedeem';\nimport { Bank as BankEntity } from '../../basis-cash';\n\nconst Bank: React.FC = () => {\n  useEffect(() => window.scrollTo(0, 0));\n\n  const { bankId } = useParams();\n  const bank = useBank(bankId);\n  const { account } = useWallet();\n  const { onRedeem } = useRedeem(bank);\n\n  return account && bank ? (\n    <>\n      <PageHeader\n        icon=\"\"\n        subtitle={`Deposit ${bank?.depositTokenName} and earn ${bank?.earnTokenName}`}\n        title={bank?.name}\n      />\n      <StyledBank>\n        <StyledCardsWrapper>\n          <StyledCardWrapper>\n            <Harvest bank={bank} />\n          </StyledCardWrapper>\n          <Spacer />\n          <StyledCardWrapper>\n            <Stake bank={bank} />\n          </StyledCardWrapper>\n        </StyledCardsWrapper>\n        <Spacer size=\"lg\" />\n        {bank.depositTokenName.includes('LP') && <LPTokenHelpText bank={bank} />}\n        <Spacer size=\"lg\" />\n        <div>\n          <Button onClick={onRedeem} text=\"Settle & Withdraw\" />\n        </div>\n        <Spacer size=\"lg\" />\n      </StyledBank>\n    </>\n  ) : !bank ? (\n    <BankNotFound />\n  ) : (\n    <UnlockWallet />\n  );\n};\n\nconst LPTokenHelpText: React.FC<{ bank: BankEntity }> = ({ bank }) => {\n  let pairName: string;\n  let uniswapUrl: string;\n  if (bank.depositTokenName.includes('GOC')) {\n    pairName = 'BAC-DAI pair';\n    uniswapUrl = 'https://app.uniswap.org/#/add/0x3449FC1Cd036255BA1EB19d65fF4BA2b8903A69a/0x6B175474E89094C44Da98b954EedeAC495271d0F';\n  } else {\n    pairName = 'BAS-DAI pair';\n    uniswapUrl = 'https://app.uniswap.org/#/add/0xa7ED29B253D8B4E3109ce07c80fc570f81B63696/0x6B175474E89094C44Da98b954EedeAC495271d0F';\n  }\n  return (\n    <StyledLink href={uniswapUrl} target=\"_blank\">\n      {`  Provide liquidity to ${pairName} on Uniswap  `}\n    </StyledLink>\n  );\n};\n\nconst BankNotFound = () => {\n  return (\n    <Center>\n      <PageHeader\n        icon=\"\"\n        title=\"Not Found\"\n        subtitle=\"You've hit a bank just robbed by unicorns.\"\n      />\n    </Center>\n  );\n};\n\nconst UnlockWallet = () => {\n  const { connect } = useWallet();\n  return (\n    <Center>\n      <Button onClick={() => connect('injected')} text=\"Unlock Wallet\" />\n    </Center>\n  );\n};\n\nconst StyledBank = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n`;\n\nconst StyledUniswapLPGuide = styled.div`\n  margin: -24px auto 48px;\n`;\n\nconst StyledLink = styled.a`\n  font-weight: 700;\n  text-decoration: none;\n  color: ${(props) => props.theme.color.primary.main};\n`;\n\nconst StyledCardsWrapper = styled.div`\n  display: flex;\n  width: 600px;\n  @media (max-width: 768px) {\n    width: 100%;\n    flex-flow: column nowrap;\n    align-items: center;\n  }\n`;\n\nconst StyledCardWrapper = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  @media (max-width: 768px) {\n    width: 80%;\n  }\n`;\n\nconst Center = styled.div`\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport default Bank;\n","import { useContext } from 'react';\nimport { Context as BanksContext } from '../contexts/Banks';\n\nconst useBanks = () => {\n  const { banks } = useContext(BanksContext);\n  return [banks];\n};\n\nexport default useBanks;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Info } from 'react-feather';\n\ntype NoticeProps = {\n  color?: 'yellow' | 'grey' | 'green';\n};\n\nconst Notice: React.FC<NoticeProps> = ({ color = 'grey', children }) => {\n  return (\n    <StyledPanel color={color}>\n      <StyledCardContentInner>\n        <StyledIcon>\n          <Info size={16} />\n        </StyledIcon>\n        <StyledTextWrapper>\n          <StyledText>{children}</StyledText>\n        </StyledTextWrapper>\n      </StyledCardContentInner>\n    </StyledPanel>\n  );\n};\n\nconst StyledPanel = styled.div<NoticeProps>`\n  width: 100%;\n  background: ${({ color, theme }) =>\n    color === 'grey' ? theme.color.grey[900] : color === 'yellow' ? '#c6840077' : '#689f3877'};\n  color: ${({ color, theme }) =>\n    color === 'grey' ? theme.color.grey[400] : color === 'yellow' ? '#ffd54f' : '#8bc34a'};\n  border-radius: 4px;\n`;\n\nconst StyledText = styled.span``;\n\nconst StyledIcon = styled.span`\n  margin-top: 2px;\n  margin-right: 10px;\n`;\n\nconst StyledTextWrapper = styled.span`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst StyledCardContentInner = styled.div`\n  display: flex;\n  align-items: start;\n  flex-direction: row;\n  padding: ${(props) => props.theme.spacing[3]}px;\n`;\n\nexport default Notice;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { Bank } from '../../basis-cash';\nimport Button from '../../components/Button';\nimport Card from '../../components/Card';\nimport CardContent from '../../components/CardContent';\nimport CardIcon from '../../components/CardIcon';\nimport useBanks from '../../hooks/useBanks';\nimport TokenSymbol from '../../components/TokenSymbol';\nimport Notice from '../../components/Notice';\n\nconst BankCards: React.FC = () => {\n  const [banks] = useBanks();\n\n  const activeBanks = banks.filter((bank) => !bank.finished);\n  const inactiveBanks = banks.filter((bank) => bank.finished);\n\n  let finishedFirstRow = false;\n  const inactiveRows = inactiveBanks.reduce<Bank[][]>(\n    (bankRows, bank) => {\n      const newBankRows = [...bankRows];\n      if (newBankRows[newBankRows.length - 1].length === (finishedFirstRow ? 2 : 3)) {\n        newBankRows.push([bank]);\n        finishedFirstRow = true;\n      } else {\n        newBankRows[newBankRows.length - 1].push(bank);\n      }\n      return newBankRows;\n    },\n    [[]],\n  );\n\n  return (\n    <StyledCards>\n      {inactiveRows[0].length > 0 && (\n        <StyledInactiveNoticeContainer>\n          <Notice color=\"grey\">\n            <b>You have banks where the mining has finished.</b>\n            <br />\n            Please withdraw and settle your stakes.\n          </Notice>\n        </StyledInactiveNoticeContainer>\n      )}\n      <StyledRow>\n        {activeBanks.map((bank, i) => (\n          <React.Fragment key={bank.name}>\n            <BankCard bank={bank} />\n            {i < activeBanks.length - 1 && <StyledSpacer />}\n          </React.Fragment>\n        ))}\n      </StyledRow>\n      {inactiveRows[0].length > 0 && (\n        <>\n          <StyledInactiveBankTitle>Inactive Banks</StyledInactiveBankTitle>\n          {inactiveRows.map((bankRow, i) => (\n            <StyledRow key={i}>\n              {bankRow.map((bank, j) => (\n                <React.Fragment key={j}>\n                  <BankCard bank={bank} />\n                  {j < bankRow.length - 1 && <StyledSpacer />}\n                </React.Fragment>\n              ))}\n            </StyledRow>\n          ))}\n        </>\n      )}\n    </StyledCards>\n  );\n};\n\ninterface BankCardProps {\n  bank: Bank;\n}\n\nconst BankCard: React.FC<BankCardProps> = ({ bank }) => {\n  return (\n    <StyledCardWrapper>\n      {bank.depositTokenName.includes('LP') &&\n        (bank.depositTokenName.includes('BAS_DAI') ? (\n          <StyledCardSuperAccent />\n        ) : (\n          <StyledCardAccent />\n        ))}\n      <Card>\n        <CardContent>\n          <StyledContent>\n            <CardIcon>\n              <TokenSymbol symbol={bank.depositTokenName} size={54} />\n            </CardIcon>\n            <StyledTitle>{bank.name}</StyledTitle>\n            <StyledDetails>\n              <StyledDetail>Deposit {bank.depositTokenName.toUpperCase()}</StyledDetail>\n              <StyledDetail>Earn {`Basis ${bank.earnTokenName}`}</StyledDetail>\n            </StyledDetails>\n            <Button text=\"Select\" to={`/bank/${bank.contract}`} />\n          </StyledContent>\n        </CardContent>\n      </Card>\n    </StyledCardWrapper>\n  );\n};\n\nconst StyledCardAccent = styled.div`\n  background: linear-gradient(\n    45deg,\n    rgba(255, 0, 0, 1) 0%,\n    rgba(255, 154, 0, 1) 10%,\n    rgba(208, 222, 33, 1) 20%,\n    rgba(79, 220, 74, 1) 30%,\n    rgba(63, 218, 216, 1) 40%,\n    rgba(47, 201, 226, 1) 50%,\n    rgba(28, 127, 238, 1) 60%,\n    rgba(95, 21, 242, 1) 70%,\n    rgba(186, 12, 248, 1) 80%,\n    rgba(251, 7, 217, 1) 90%,\n    rgba(255, 0, 0, 1) 100%\n  );\n  border-radius: 12px;\n  filter: blur(4px);\n  position: absolute;\n  top: -2px;\n  right: -2px;\n  bottom: -2px;\n  left: -2px;\n  z-index: -1;\n`;\n\nconst StyledCardSuperAccent = styled.div`\n  background: linear-gradient(\n    45deg,\n    rgba(255, 0, 0, 1) 0%,\n    rgba(255, 154, 0, 1) 10%,\n    rgba(208, 222, 33, 1) 20%,\n    rgba(79, 220, 74, 1) 30%,\n    rgba(63, 218, 216, 1) 40%,\n    rgba(47, 201, 226, 1) 50%,\n    rgba(28, 127, 238, 1) 60%,\n    rgba(95, 21, 242, 1) 70%,\n    rgba(186, 12, 248, 1) 80%,\n    rgba(251, 7, 217, 1) 90%,\n    rgba(255, 0, 0, 1) 100%\n  );\n  border-radius: 12px;\n  filter: blur(8px);\n  position: absolute;\n  top: -4px;\n  right: -4px;\n  bottom: -4px;\n  left: -4px;\n  z-index: -1;\n`;\n\nconst StyledCards = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 900px;\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n`;\n\nconst StyledLoadingWrapper = styled.div`\n  align-items: center;\n  display: flex;\n  flex: 1;\n  justify-content: center;\n`;\n\nconst StyledRow = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-bottom: ${(props) => props.theme.spacing[4]}px;\n  flex-flow: row wrap;\n  @media (max-width: 768px) {\n    width: 100%;\n    flex-flow: column nowrap;\n    align-items: center;\n  }\n`;\n\nconst StyledCardWrapper = styled.div`\n  display: flex;\n  width: calc((900px - ${(props) => props.theme.spacing[4]}px * 2) / 3);\n  position: relative;\n  margin-bottom: 20px;\n`;\n\nconst StyledTitle = styled.h4`\n  color: ${(props) => props.theme.color.grey[200]};\n  font-size: 24px;\n  font-weight: 700;\n  text-align: center;\n  margin: ${(props) => props.theme.spacing[2]}px 0 0;\n  padding: 0;\n`;\n\nconst StyledContent = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst StyledSpacer = styled.div`\n  height: ${(props) => props.theme.spacing[4]}px;\n  width: ${(props) => props.theme.spacing[4]}px;\n`;\n\nconst StyledDetails = styled.div`\n  margin-bottom: ${(props) => props.theme.spacing[6]}px;\n  margin-top: ${(props) => props.theme.spacing[2]}px;\n  text-align: center;\n`;\n\nconst StyledDetail = styled.div`\n  color: ${(props) => props.theme.color.grey[300]};\n`;\n\nconst StyledInactiveNoticeContainer = styled.div`\n  width: 598px;\n  margin-bottom: ${(props) => props.theme.spacing[6]}px;\n`;\n\nconst StyledInactiveBankTitle = styled.p`\n  font-size: 24px;\n  font-weight: 600;\n  color: ${(props) => props.theme.color.grey[400]};\n  margin-top: ${(props) => props.theme.spacing[5]}px;\n  margin-bottom: ${(props) => props.theme.spacing[4]}px;\n`;\n\nexport default BankCards;\n","import React from 'react';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport Page from '../../components/Page';\nimport PageHeader from '../../components/PageHeader';\nimport Bank from '../Bank';\nimport BankCards from './BankCards';\nimport { useWallet } from 'use-wallet';\nimport Button from '../../components/Button';\nimport styled from 'styled-components';\n\nconst Banks: React.FC = () => {\n  const { path } = useRouteMatch();\n  const { account, connect } = useWallet();\n\n  return (\n    <Switch>\n      <Page>\n        <Route exact path={path}>\n          <PageHeader\n            icon={''}\n            title=\"Pick a Bank.\"\n            subtitle=\"Earn Basis Shares by providing liquidity\"\n          />\n          {!!account ? (\n            <BankCards />\n          ) : (\n            <Center>\n              <Button onClick={() => connect('injected')} text=\"Unlock Wallet\" />\n            </Center>\n          )}\n        </Route>\n        <Route path={`${path}/:bankId`}>\n          <Bank />\n        </Route>\n      </Page>\n    </Switch>\n  );\n};\n\nconst Center = styled.div`\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport default Banks;\n","import React, { useContext } from 'react';\nimport styled, { ThemeContext } from 'styled-components';\nimport Label from '../../../components/Label';\nimport { TokenStat } from '../../../basis-cash/types';\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton';\nimport TokenSymbol from '../../../components/TokenSymbol';\nimport { commify } from 'ethers/lib/utils';\nimport config from '../../../config';\n\ninterface HomeCardProps {\n  title: string;\n  symbol: string;\n  color: string;\n  supplyLabel?: string;\n  address: string;\n  stat?: TokenStat;\n}\n\nconst HomeCard: React.FC<HomeCardProps> = ({\n  title,\n  symbol,\n  color,\n  address,\n  supplyLabel = 'Total Supply',\n  stat,\n}) => {\n  const tokenUrl = `${config.etherscanUrl}/token/${address}`;\n  return (\n    <Wrapper>\n      <CardHeader>{title}</CardHeader>\n      <StyledCards>\n        <TokenSymbol symbol={symbol} />\n        <CardSection>\n          {stat ? (\n            <StyledValue>{(stat.priceInDAI !== '-' ? '$' : '') + stat.priceInDAI}</StyledValue>\n          ) : (\n            <ValueSkeleton />\n          )}\n          <Label text=\"Current Price\" color={color} />\n        </CardSection>\n\n        <CardSection>\n          {stat ? <StyledValue>{commify(stat.totalSupply)}</StyledValue> : <ValueSkeleton />}\n          <StyledSupplyLabel href={tokenUrl} target=\"_blank\" color={color}>\n            {supplyLabel}\n          </StyledSupplyLabel>\n        </CardSection>\n      </StyledCards>\n    </Wrapper>\n  );\n};\n\nconst Wrapper = styled.div`\n  @media (max-width: 768px) {\n    margin-top: ${(props) => props.theme.spacing[4]}px;\n  }\n`;\n\nconst CardHeader = styled.h2`\n  color: #fff;\n  text-align: center;\n`;\n\nconst StyledCards = styled.div`\n  min-width: 200px;\n  padding: ${(props) => props.theme.spacing[3]}px;\n  color: ${(props) => props.theme.color.white};\n  background-color: ${(props) => props.theme.color.grey[900]};\n  border-radius: 5px;\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n`;\n\nconst StyledValue = styled.span`\n  display: inline-block;\n  font-size: 36px;\n  color: #eeeeee;\n`;\n\nconst CardSection = styled.div`\n  margin-bottom: ${(props) => props.theme.spacing[4]}px;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n`;\n\nconst ValueSkeletonPadding = styled.div`\n  padding-top: ${(props) => props.theme.spacing[3]}px;\n  padding-bottom: ${(props) => props.theme.spacing[2]}px;\n`;\n\nconst StyledSupplyLabel = styled.a`\n  display: block;\n  color: ${(props) => props.color};\n`;\n\nconst ValueSkeleton = () => {\n  const theme = useContext(ThemeContext);\n  return (\n    <SkeletonTheme color={theme.color.grey[700]} highlightColor={theme.color.grey[600]}>\n      <ValueSkeletonPadding>\n        <Skeleton height={10} />\n      </ValueSkeletonPadding>\n    </SkeletonTheme>\n  );\n};\n\nconst GuideText = styled.span`\n  color: ${(props) => props.theme.color.primary.main};\n  font-size: 0.8rem;\n`;\n\nconst ValueText = styled.p`\n  color: ${(props) => props.theme.color.white};\n  font-weight: bold;\n  font-size: 1.25rem;\n  margin: ${(props) => props.theme.spacing[1]}px 0;\n`;\n\nexport default HomeCard;\n","import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport styled from 'styled-components';\nimport Page from '../../components/Page';\nimport PageHeader from '../../components/PageHeader';\nimport Spacer from '../../components/Spacer';\nimport HomeCard from './components/HomeCard';\nimport { OverviewData } from './types';\nimport useBasisCash from '../../hooks/useBasisCash';\nimport config from '../../config';\nimport Notice from '../../components/Notice';\n\nconst Home: React.FC = () => {\n  const basisCash = useBasisCash();\n\n  const [{ cash, bond, share }, setStats] = useState<OverviewData>({});\n  const fetchStats = useCallback(async () => {\n    const [cash, bond, share] = await Promise.all([\n      basisCash.getCashStatFromUniswap(),\n      basisCash.getBondStat(),\n      basisCash.getShareStat(),\n    ]);\n    if (Date.now() < config.bondLaunchesAt.getTime()) {\n      bond.priceInDAI = '-';\n    }\n    setStats({ cash, bond, share });\n  }, [basisCash, setStats]);\n\n  useEffect(() => {\n    if (basisCash) {\n      fetchStats().catch((err) => console.error(err.stack));\n    }\n  }, [basisCash]);\n\n  const cashAddr = useMemo(() => basisCash?.GOC.address, [basisCash]);\n  const shareAddr = useMemo(() => basisCash?.GOS.address, [basisCash]);\n  const bondAddr = useMemo(() => basisCash?.GOB.address, [basisCash]);\n\n  return (\n    <Page>\n      <PageHeader\n        icon=\"\"\n        subtitle=\"Buy, sell, and provide liquidity for Basis Cash and Basis Shares on Uniswap\"\n        title=\"Welcome to Basis Cash!\"\n      />\n      <Spacer size=\"md\" />\n      <CardWrapper>\n        <HomeCard\n          title=\"Basis Cash\"\n          symbol=\"GOC\"\n          color=\"#EEA7ED\"\n          supplyLabel=\"Circulating Supply\"\n          address={cashAddr}\n          stat={cash}\n        />\n        <Spacer size=\"lg\" />\n        <HomeCard\n          title=\"Basis Share\"\n          symbol=\"GOS\"\n          color=\"#E83725\"\n          address={shareAddr}\n          stat={share}\n        />\n        <Spacer size=\"lg\" />\n        <HomeCard\n          title=\"Basis Bond\"\n          symbol=\"GOB\"\n          color=\"#ECF25C\"\n          address={bondAddr}\n          stat={bond}\n        />\n      </CardWrapper>\n    </Page>\n  );\n};\n\nconst StyledOverview = styled.div`\n  align-items: center;\n  display: flex;\n  @media (max-width: 768px) {\n    width: 100%;\n    flex-flow: column nowrap;\n    align-items: center;\n  }\n`;\n\nconst CardWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  width: 100%;\n\n  @media (max-width: 768px) {\n    width: 100%;\n    flex-flow: column nowrap;\n    align-items: center;\n  }\n`;\n\nconst StyledNoticeContainer = styled.div`\n  max-width: 768px;\n  width: 90vw;\n`;\n\nconst StyledSpacer = styled.div`\n  height: ${(props) => props.theme.spacing[4]}px;\n  width: ${(props) => props.theme.spacing[4]}px;\n`;\n\nconst StyledLink = styled.a`\n  font-weight: 700;\n  text-decoration: none;\n  color: ${(props) => props.theme.color.primary.main};\n`;\n\nexport default Home;\n","import React, { useCallback, useMemo, useState } from 'react';\nimport Button from '../../../components/Button';\nimport Modal, { ModalProps } from '../../../components/Modal';\nimport ModalActions from '../../../components/ModalActions';\nimport ModalTitle from '../../../components/ModalTitle';\nimport TokenInput from '../../../components/TokenInput';\nimport { getFullDisplayBalance } from '../../../utils/formatBalance';\nimport { BigNumber } from 'ethers';\nimport Label from '../../../components/Label';\n\ninterface ExchangeModalProps extends ModalProps {\n  max: BigNumber;\n  onConfirm: (amount: string) => void;\n  title: string;\n  description: string;\n  action: string;\n  tokenName: string;\n}\n\nconst ExchangeModal: React.FC<ExchangeModalProps> = ({\n  max,\n  title,\n  description,\n  onConfirm,\n  onDismiss,\n  action,\n  tokenName,\n}) => {\n  const [val, setVal] = useState('');\n  const fullBalance = useMemo(() => getFullDisplayBalance(max), [max]);\n\n  const handleChange = useCallback(\n    (e: React.FormEvent<HTMLInputElement>) => setVal(e.currentTarget.value),\n    [setVal],\n  );\n\n  const handleSelectMax = useCallback(() => {\n    setVal(fullBalance);\n  }, [fullBalance, setVal]);\n\n  return (\n    <Modal>\n      <ModalTitle text={title} />\n      <TokenInput\n        value={val}\n        onSelectMax={handleSelectMax}\n        onChange={handleChange}\n        max={fullBalance}\n        symbol={tokenName}\n      />\n      <Label text={description} />\n      <ModalActions>\n        <Button text=\"Cancel\" variant=\"secondary\" onClick={onDismiss} />\n        <Button text={action} onClick={() => onConfirm(val)} />\n      </ModalActions>\n    </Modal>\n  );\n};\n\nexport default ExchangeModal;\n","import { useCallback } from 'react';\nimport { useAddPopup } from '../state/application/hooks';\n\nconst DEFAULT_ERROR_MSG = 'Unexpected error is occurred.';\n\nfunction useCatchError(): (promise: Promise<any>, message?: string) => void {\n  const addPopup = useAddPopup();\n\n  return useCallback((promise: Promise<any>, message = DEFAULT_ERROR_MSG) => {\n    promise.catch((err) => {\n      if (err.message.includes('User denied')) {\n        // User denied transaction signature on MetaMask.\n        return;\n      }\n      console.error(`Uncaught exception: ${err.stack}`);\n      addPopup({ error: { message, stack: err.stack } });\n    });\n  }, [addPopup]);\n}\n\nexport default useCatchError;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport Button from '../../../components/Button';\nimport Card from '../../../components/Card';\nimport CardContent from '../../../components/CardContent';\nimport useBasisCash from '../../../hooks/useBasisCash';\nimport Label from '../../../components/Label';\nimport TokenSymbol from '../../../components/TokenSymbol';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faArrowRight } from '@fortawesome/free-solid-svg-icons';\nimport useModal from '../../../hooks/useModal';\nimport ExchangeModal from './ExchangeModal';\nimport ERC20 from '../../../basis-cash/ERC20';\nimport useTokenBalance from '../../../hooks/useTokenBalance';\nimport useApprove, { ApprovalState } from '../../../hooks/useApprove';\nimport useCatchError from '../../../hooks/useCatchError';\n\ninterface ExchangeCardProps {\n  action: string;\n  fromToken: ERC20;\n  fromTokenName: string;\n  toToken: ERC20;\n  toTokenName: string;\n  priceDesc: string;\n  onExchange: (amount: string) => void;\n  disabled?: boolean;\n  disabledDescription?: string;\n}\n\nconst ExchangeCard: React.FC<ExchangeCardProps> = ({\n  action,\n  fromToken,\n  fromTokenName,\n  toToken,\n  toTokenName,\n  priceDesc,\n  onExchange,\n  disabled = false,\n  disabledDescription,\n}) => {\n  const catchError = useCatchError();\n  const {\n    contracts: { Treasury },\n  } = useBasisCash();\n  const [approveStatus, approve] = useApprove(fromToken, Treasury.address);\n\n  const balance = useTokenBalance(fromToken);\n  const [onPresent, onDismiss] = useModal(\n    <ExchangeModal\n      title={action}\n      description={priceDesc}\n      max={balance}\n      onConfirm={(value) => {\n        onExchange(value);\n        onDismiss();\n      }}\n      action={action}\n      tokenName={fromTokenName}\n    />,\n  );\n  return (\n    <Card>\n      <CardContent>\n        <StyledCardContentInner>\n          <StyledCardTitle>{`${action} ${toTokenName}`}</StyledCardTitle>\n          <StyledExchanger>\n            <StyledToken>\n              <StyledCardIcon>\n                <TokenSymbol symbol={fromToken.symbol} size={54} />\n              </StyledCardIcon>\n              <Label text={fromTokenName} variant=\"normal\" />\n            </StyledToken>\n            <StyledExchangeArrow>\n              <FontAwesomeIcon icon={faArrowRight} />\n            </StyledExchangeArrow>\n            <StyledToken>\n              <StyledCardIcon>\n                <TokenSymbol symbol={toToken.symbol} size={54} />\n              </StyledCardIcon>\n              <Label text={toTokenName} variant=\"normal\" />\n            </StyledToken>\n          </StyledExchanger>\n          <StyledDesc>{priceDesc}</StyledDesc>\n          <StyledCardActions>\n            {approveStatus !== ApprovalState.APPROVED && !disabled ? (\n              <Button\n                disabled={\n                  approveStatus == ApprovalState.PENDING ||\n                  approveStatus == ApprovalState.UNKNOWN\n                }\n                onClick={() => catchError(approve(), `Unable to approve ${fromTokenName}`)}\n                text={`Approve ${fromTokenName}`}\n              />\n            ) : (\n              <Button\n                text={disabledDescription || action}\n                onClick={onPresent}\n                disabled={disabled}\n              />\n            )}\n          </StyledCardActions>\n        </StyledCardContentInner>\n      </CardContent>\n    </Card>\n  );\n};\n\nconst StyledCardTitle = styled.div`\n  align-items: center;\n  color: ${(props) => props.theme.color.grey[300]};\n  display: flex;\n  font-size: 20px;\n  font-weight: 700;\n  height: 64px;\n  justify-content: center;\n  margin-top: ${(props) => -props.theme.spacing[3]}px;\n`;\n\nconst StyledCardIcon = styled.div`\n  background-color: ${(props) => props.theme.color.grey[900]};\n  width: 72px;\n  height: 72px;\n  border-radius: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: ${(props) => props.theme.spacing[2]}px;\n`;\n\nconst StyledExchanger = styled.div`\n  align-items: center;\n  display: flex;\n  margin-bottom: ${(props) => props.theme.spacing[5]}px;\n`;\n\nconst StyledExchangeArrow = styled.div`\n  font-size: 20px;\n  color: ${(props) => props.theme.color.grey[300]};\n  padding-left: ${(props) => props.theme.spacing[3]}px;\n  padding-right: ${(props) => props.theme.spacing[3]}px;\n  padding-bottom: ${(props) => props.theme.spacing[4]}px;\n`;\n\nconst StyledToken = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  font-weight: 600;\n`;\n\nconst StyledCardActions = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: ${(props) => props.theme.spacing[3]}px;\n  width: 100%;\n`;\n\nconst StyledDesc = styled.span`\n  color: ${(props) => props.theme.color.grey[300]};\n`;\n\nconst StyledCardContentInner = styled.div`\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n`;\n\nexport default ExchangeCard;\n","import { useCallback, useEffect, useState } from 'react';\nimport useBasisCash from './useBasisCash';\nimport { TokenStat } from '../basis-cash/types';\nimport config from '../config';\n\nconst useBondStats = () => {\n  const [stat, setStat] = useState<TokenStat>();\n  const basisCash = useBasisCash();\n\n  const fetchBondPrice = useCallback(async () => {\n    setStat(await basisCash.getBondStat());\n  }, [basisCash]);\n\n  useEffect(() => {\n    fetchBondPrice().catch((err) => console.error(`Failed to fetch BAB price: ${err.stack}`));\n    const refreshInterval = setInterval(fetchBondPrice, config.refreshInterval);\n    return () => clearInterval(refreshInterval);\n  }, [setStat, basisCash]);\n\n  return stat;\n};\n\nexport default useBondStats;\n","import { useCallback, useEffect, useState } from 'react';\nimport useBasisCash from './useBasisCash';\nimport config from '../config';\nimport { BigNumber } from 'ethers';\n\nconst useBondOraclePriceInLastTWAP = () => {\n  const [price, setPrice] = useState<BigNumber>(BigNumber.from(0));\n  const basisCash = useBasisCash();\n\n  const fetchCashPrice = useCallback(async () => {\n    setPrice(await basisCash.getOraclePriceInLastTWAP());\n  }, [basisCash]);\n\n  useEffect(() => {\n    fetchCashPrice().catch((err) => console.error(`Failed to fetch BAB price: ${err.stack}`));\n    const refreshInterval = setInterval(fetchCashPrice, config.refreshInterval);\n    return () => clearInterval(refreshInterval);\n  }, [setPrice, basisCash]);\n\n  return price;\n};\n\nexport default useBondOraclePriceInLastTWAP;\n","import React, { useContext } from 'react'\nimport styled, { ThemeContext } from 'styled-components'\n\nimport { CircularProgressbar, buildStyles } from 'react-circular-progressbar'\n\ninterface DialProps {\n  children?: React.ReactNode,\n  disabled?: boolean,\n  size?: number,\n  value: number\n}\n\nconst Dial: React.FC<DialProps> = ({ children, disabled, size = 256, value }) => {\n  const { color } = useContext(ThemeContext)\n\n  return (\n    <StyledDial size={size}>\n      <StyledOuter>\n        <CircularProgressbar\n          value={value}\n          styles={buildStyles({\n            strokeLinecap: 'round',\n            pathColor: !disabled ? '#D7325D' : color.grey[400],\n            pathTransitionDuration: 1,\n          })}\n        />\n      </StyledOuter>\n      <StyledInner size={size}>\n        {children}\n      </StyledInner>\n    </StyledDial>\n  )\n}\n\ninterface StyledInnerProps {\n  size: number\n}\n\nconst StyledDial = styled.div<StyledInnerProps>`\n  padding: 24px;\n  position: relative;\n  height: ${props => props.size}px;\n  width: ${props => props.size}px;\n`\n\nconst StyledInner = styled.div<StyledInnerProps>`\n  align-items: center;\n  background-color: #271C20;\n  border-radius: ${props => props.size}px;\n  display: flex;\n  justify-content: center;\n  position: relative;\n  height: ${props => props.size}px;\n  width: ${props => props.size}px;\n`\n\nconst StyledOuter = styled.div`\n  background-color: #000;\n  border-radius: 10000px;\n  position: absolute;\n  top: 0; right: 0; bottom: 0; left: 0;\n`\n\nexport default Dial","import React from 'react';\nimport styled from 'styled-components';\nimport config from '../../config';\nimport Dial from '../Dial';\nimport Countdown, { CountdownRenderProps } from 'react-countdown';\nimport Button from '../Button';\n\ninterface LaunchCountdownProps {\n  deadline: Date;\n  description: string;\n  descriptionLink: string;\n}\n\nconst LaunchCountdown: React.FC<LaunchCountdownProps> = ({\n  deadline,\n  description,\n  descriptionLink,\n}) => {\n  const percentage =\n    ((Date.now() - config.baseLaunchDate.getTime()) /\n      (deadline.getTime() - config.baseLaunchDate.getTime())) *\n    100;\n\n  const countdownRenderer = (countdownProps: CountdownRenderProps) => {\n    const { days, hours, minutes, seconds } = countdownProps;\n    const h = String(days * 24 + hours);\n    const m = String(minutes);\n    const s = String(seconds);\n    return (\n      <StyledCountdown>\n        {h.padStart(2, '0')}:{m.padStart(2, '0')}:{s.padStart(2, '0')}\n      </StyledCountdown>\n    );\n  };\n  return (\n    <StyledCard>\n      <Dial value={percentage}>\n        <StyledCountdownWrapper>\n          <StyledCountdownTitle>Starting In...</StyledCountdownTitle>\n          <Countdown date={deadline} renderer={countdownRenderer} />\n        </StyledCountdownWrapper>\n      </Dial>\n      <StyledDescriptionButton>\n        <StyledExternalLink href={descriptionLink} target=\"_blank\">\n          {description}\n        </StyledExternalLink>\n      </StyledDescriptionButton>\n    </StyledCard>\n  );\n};\n\nconst StyledCard = styled.div`\n  width: 400px;\n  background-color: #271c20;\n  border: 1px solid ${(props) => props.theme.color.grey[900]};\n  box-sizing: border-box;\n  padding: 36px;\n  border-radius: 48px;\n  box-shadow: 0px 3px 30px #d5d5d5a0;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n`;\n\nconst StyledCountdownWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst StyledCountdownTitle = styled.p`\n  font-size: 20px;\n  color: ${(props) => props.theme.color.grey[700]};\n  margin: 0;\n`;\n\nconst StyledCountdown = styled.p`\n  font-size: 40px;\n  color: #d8325e;\n  margin: 0;\n`;\n\nconst StyledDescriptionButton = styled.button`\n  background-color: #271c20;\n  align-items: center;\n  border: 0;\n  border-radius: 24px;\n  margin-top: 32px;\n  box-shadow: 0px 2px 10px #d5d5d544;\n  color: ${(props) => props.theme.color.grey[500]};\n  cursor: pointer;\n  display: flex;\n  font-size: 16px;\n  font-weight: 700;\n  height: 64px;\n  justify-content: center;\n  outline: none;\n  padding-left: 24px;\n  padding-right: 24px;\n  width: 100%;\n  &:hover {\n    color: ${(props) => props.theme.color.grey[300]};\n  }\n`;\n\nconst StyledExternalLink = styled.a`\n  align-items: center;\n  color: inherit;\n  display: flex;\n  flex: 1;\n  height: 56px;\n  justify-content: center;\n  margin: 0 ${(props) => -props.theme.spacing[4]}px;\n  padding: 0 ${(props) => props.theme.spacing[4]}px;\n  text-decoration: none;\n`;\n\nexport default LaunchCountdown;\n","import LaunchCountdown from './LaunchCountdown';\n\nexport default LaunchCountdown;\n","import React from 'react';\nimport styled from 'styled-components';\nimport Card from '../../../components/Card';\n\ninterface ExchangeStatProps {\n  tokenName: string;\n  description: string;\n  price: string;\n}\n\nconst ExchangeStat: React.FC<ExchangeStatProps> = ({ tokenName, description, price }) => {\n  return (\n    <Card>\n      <StyledCardContentInner>\n        <StyledCardTitle>{` ${tokenName} = $${price}`}</StyledCardTitle>\n        <StyledDesc>{description}</StyledDesc>\n      </StyledCardContentInner>\n    </Card>\n  );\n};\n\nconst StyledCardTitle = styled.div`\n  color: ${(props) => props.theme.color.grey[200]};\n  font-size: 20px;\n  font-weight: 700;\n  margin-bottom: ${(props) => props.theme.spacing[2]}px;\n`;\n\nconst StyledDesc = styled.span`\n  color: ${(props) => props.theme.color.grey[300]};\n  text-align: center;\n`;\n\nconst StyledCardContentInner = styled.div`\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding: ${(props) => props.theme.spacing[2]}px;\n`;\n\nexport default ExchangeStat;\n","import { BigNumber } from 'ethers';\n\nexport const DECIMALS_18 = BigNumber.from(10).pow(18);\n\nexport const BOND_REDEEM_PRICE = 1.05;\nexport const BOND_REDEEM_PRICE_BN = DECIMALS_18.mul(105).div(100);\n","import React, { useCallback, useMemo } from 'react';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { useWallet } from 'use-wallet';\n\nimport Button from '../../components/Button';\nimport Page from '../../components/Page';\nimport PageHeader from '../../components/PageHeader';\nimport ExchangeCard from './components/ExchangeCard';\nimport styled from 'styled-components';\nimport Spacer from '../../components/Spacer';\nimport useBondStats from '../../hooks/useBondStats';\nimport useBasisCash from '../../hooks/useBasisCash';\nimport useBondOraclePriceInLastTWAP from '../../hooks/useBondOraclePriceInLastTWAP';\nimport { useTransactionAdder } from '../../state/transactions/hooks';\nimport config from '../../config';\nimport LaunchCountdown from '../../components/LaunchCountdown';\nimport ExchangeStat from './components/ExchangeStat';\nimport useTokenBalance from '../../hooks/useTokenBalance';\nimport { getDisplayBalance } from '../../utils/formatBalance';\nimport { BOND_REDEEM_PRICE, BOND_REDEEM_PRICE_BN } from '../../basis-cash/constants';\n\nconst Bond: React.FC = () => {\n  const { path } = useRouteMatch();\n  const { account, connect } = useWallet();\n  const basisCash = useBasisCash();\n  const addTransaction = useTransactionAdder();\n  const bondStat = useBondStats();\n  const cashPrice = useBondOraclePriceInLastTWAP();\n\n  const bondBalance = useTokenBalance(basisCash?.GOB);\n\n  const handleBuyBonds = useCallback(\n    async (amount: string) => {\n      const tx = await basisCash.buyBonds(amount);\n      const bondAmount = Number(amount) / Number(getDisplayBalance(cashPrice));\n      addTransaction(tx, {\n        summary: `Buy ${bondAmount.toFixed(2)} GOB with ${amount} GOC`,\n      });\n    },\n    [basisCash, addTransaction, cashPrice],\n  );\n\n  const handleRedeemBonds = useCallback(\n    async (amount: string) => {\n      const tx = await basisCash.redeemBonds(amount);\n      addTransaction(tx, { summary: `Redeem ${amount} GOB` });\n    },\n    [basisCash, addTransaction],\n  );\n  const isBondRedeemable = useMemo(() => cashPrice.gt(BOND_REDEEM_PRICE_BN), [cashPrice]);\n  const isBondPurchasable = useMemo(() => Number(bondStat?.priceInDAI) < 1.0, [bondStat]);\n\n  const isLaunched = Date.now() >= config.bondLaunchesAt.getTime();\n  if (!isLaunched) {\n    return (\n      <Switch>\n        <Page>\n          <PageHeader\n            icon={''}\n            title=\"Buy & Redeem Bonds\"\n            subtitle=\"Earn premiums upon redemption\"\n          />\n          <LaunchCountdown\n            deadline={config.bondLaunchesAt}\n            description=\"How does Basis bond work?\"\n            descriptionLink=\"https://docs.basis.cash/mechanisms/stabilization-mechanism\"\n          />\n        </Page>\n      </Switch>\n    );\n  }\n  return (\n    <Switch>\n      <Page>\n        {!!account ? (\n          <>\n            <Route exact path={path}>\n              <PageHeader\n                icon={''}\n                title=\"Buy & Redeem Bonds\"\n                subtitle=\"Earn premiums upon redemption\"\n              />\n            </Route>\n            <StyledBond>\n              <StyledCardWrapper>\n                <ExchangeCard\n                  action=\"Purchase\"\n                  fromToken={basisCash.GOC}\n                  fromTokenName=\"Basis Cash\"\n                  toToken={basisCash.GOB}\n                  toTokenName=\"Basis Bond\"\n                  priceDesc={\n                    !isBondPurchasable\n                      ? 'GOC is over $1'\n                      : `${Math.floor(\n                          100 / Number(bondStat.priceInDAI) - 100,\n                        )}% return when GOC > $1`\n                  }\n                  onExchange={handleBuyBonds}\n                  disabled={!bondStat || isBondRedeemable}\n                />\n              </StyledCardWrapper>\n              <StyledStatsWrapper>\n                <ExchangeStat\n                  tokenName=\"GOC\"\n                  description=\"Last-Hour TWAP Price\"\n                  price={getDisplayBalance(cashPrice, 18, 2)}\n                />\n                <Spacer size=\"md\" />\n                <ExchangeStat\n                  tokenName=\"GOB\"\n                  description=\"Current Price: (GOC)^2\"\n                  price={bondStat?.priceInDAI || '-'}\n                />\n              </StyledStatsWrapper>\n              <StyledCardWrapper>\n                <ExchangeCard\n                  action=\"Redeem\"\n                  fromToken={basisCash.GOB}\n                  fromTokenName=\"Basis Bond\"\n                  toToken={basisCash.GOC}\n                  toTokenName=\"Basis Cash\"\n                  priceDesc={`${getDisplayBalance(bondBalance)} BAB Available`}\n                  onExchange={handleRedeemBonds}\n                  disabled={!bondStat || bondBalance.eq(0) || !isBondRedeemable}\n                  disabledDescription={!isBondRedeemable ? `Enabled when GOC > $${BOND_REDEEM_PRICE}` : null}\n                />\n              </StyledCardWrapper>\n            </StyledBond>\n          </>\n        ) : (\n          <div\n            style={{\n              alignItems: 'center',\n              display: 'flex',\n              flex: 1,\n              justifyContent: 'center',\n            }}\n          >\n            <Button onClick={() => connect('injected')} text=\"Unlock Wallet\" />\n          </div>\n        )}\n      </Page>\n    </Switch>\n  );\n};\n\nconst StyledBond = styled.div`\n  display: flex;\n  width: 900px;\n  @media (max-width: 768px) {\n    width: 100%;\n    flex-flow: column nowrap;\n    align-items: center;\n  }\n`;\n\nconst StyledCardWrapper = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  @media (max-width: 768px) {\n    width: 80%;\n  }\n`;\n\nconst StyledStatsWrapper = styled.div`\n  display: flex;\n  flex: 0.8;\n  margin: 0 20px;\n  flex-direction: column;\n\n  @media (max-width: 768px) {\n    width: 80%;\n    margin: 16px 0;\n  }\n`;\n\nexport default Bond;\n","import { createReducer } from '@reduxjs/toolkit';\nimport {\n  addTransaction,\n  checkedTransaction,\n  clearAllTransactions,\n  finalizeTransaction,\n  SerializableTransactionReceipt,\n} from './actions';\n\nconst now = () => new Date().getTime();\n\nexport interface TransactionDetails {\n  hash: string;\n  approval?: { tokenAddress: string; spender: string };\n  summary?: string;\n  receipt?: SerializableTransactionReceipt;\n  lastCheckedBlockNumber?: number;\n  addedTime: number;\n  confirmedTime?: number;\n  from: string;\n}\n\nexport interface TransactionState {\n  [chainId: number]: {\n    [txHash: string]: TransactionDetails;\n  };\n}\n\nexport const initialState: TransactionState = {};\n\nexport default createReducer(initialState, (builder) =>\n  builder\n    .addCase(\n      addTransaction,\n      (transactions, { payload: { chainId, from, hash, approval, summary } }) => {\n        if (transactions[chainId]?.[hash]) {\n          throw Error('Attempted to add existing transaction.');\n        }\n        const txs = transactions[chainId] ?? {};\n        txs[hash] = { hash, approval, summary, from, addedTime: now() };\n        transactions[chainId] = txs;\n      },\n    )\n    .addCase(clearAllTransactions, (transactions, { payload: { chainId } }) => {\n      if (!transactions[chainId]) return;\n      transactions[chainId] = {};\n    })\n    .addCase(\n      checkedTransaction,\n      (transactions, { payload: { chainId, hash, blockNumber } }) => {\n        const tx = transactions[chainId]?.[hash];\n        if (!tx) {\n          return;\n        }\n        if (!tx.lastCheckedBlockNumber) {\n          tx.lastCheckedBlockNumber = blockNumber;\n        } else {\n          tx.lastCheckedBlockNumber = Math.max(blockNumber, tx.lastCheckedBlockNumber);\n        }\n      },\n    )\n    .addCase(finalizeTransaction, (transactions, { payload: { hash, chainId, receipt } }) => {\n      const tx = transactions[chainId]?.[hash];\n      if (!tx) {\n        return;\n      }\n      tx.receipt = receipt;\n      tx.confirmedTime = now();\n    }),\n);\n","import { createReducer, nanoid } from '@reduxjs/toolkit';\nimport {\n  addPopup,\n  PopupContent,\n  removePopup,\n  toggleWalletModal,\n  toggleSettingsMenu,\n  updateBlockNumber,\n} from './actions';\n\ntype PopupList = Array<{\n  key: string;\n  show: boolean;\n  content: PopupContent;\n  removeAfterMs: number | null;\n}>;\n\nexport interface ApplicationState {\n  blockNumber: { [chainId: number]: number };\n  popupList: PopupList;\n  walletModalOpen: boolean;\n  settingsMenuOpen: boolean;\n}\n\nconst initialState: ApplicationState = {\n  blockNumber: {},\n  popupList: [],\n  walletModalOpen: false,\n  settingsMenuOpen: false,\n};\n\nexport default createReducer(initialState, (builder) =>\n  builder\n    .addCase(updateBlockNumber, (state, action) => {\n      const { chainId, blockNumber } = action.payload;\n      if (typeof state.blockNumber[chainId] !== 'number') {\n        state.blockNumber[chainId] = blockNumber;\n      } else {\n        state.blockNumber[chainId] = Math.max(blockNumber, state.blockNumber[chainId]);\n      }\n    })\n    .addCase(toggleWalletModal, (state) => {\n      state.walletModalOpen = !state.walletModalOpen;\n    })\n    .addCase(toggleSettingsMenu, (state) => {\n      state.settingsMenuOpen = !state.settingsMenuOpen;\n    })\n    .addCase(addPopup, (state, { payload: { content, key, removeAfterMs = 15000 } }) => {\n      state.popupList = (key\n        ? state.popupList.filter((popup) => popup.key !== key)\n        : state.popupList\n      ).concat([\n        {\n          key: key || nanoid(),\n          show: true,\n          content,\n          removeAfterMs,\n        },\n      ]);\n    })\n    .addCase(removePopup, (state, { payload: { key } }) => {\n      state.popupList.forEach((p) => {\n        if (p.key === key) {\n          p.show = false;\n        }\n      });\n    }),\n);\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport { save, load } from 'redux-localstorage-simple';\nimport transactions from './transactions/reducer';\nimport application from './application/reducer';\n\nconst PERSISTED_KEYS: string[] = ['transactions'];\n\nconst store = configureStore({\n  reducer: {\n    application,\n    transactions,\n  },\n  middleware: [...getDefaultMiddleware({ thunk: false }), save({ states: PERSISTED_KEYS })],\n  preloadedState: load({ states: PERSISTED_KEYS }),\n});\n\nexport default store;\n\nexport type AppState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n","export const white = '#FFF'\nexport const black = '#000'\n\nexport const green = {\n  500: '#00D110',\n}\n\nexport const purple = {\n  200: '#bd7cfe',\n  400: '#ab47bc',\n  700: '#7b1fa2',\n}\n\nexport const red = {\n  100: '#C1C1FF',\n  200: '#7575FF',\n  500: '#9090FF',\n}\n\nexport const grey = {\n  100: '#f5f5f5',\n  200: '#eeeeee',\n  300: '#e0e0e0',\n  400: '#bdbdbd',\n  500: '#9e9e9e',\n  600: '#757575', \n  700: '#616161',\n  800: '#424242',\n  900: '#212121',\n}\n\nexport const bg = '#000000';\n\nexport const teal = {\n  200: '#64ffda'\n}","import { black, purple, teal, grey, red, white } from './colors'\n\nconst theme = {\n  borderRadius: 12,\n  color: {\n    black,\n    grey,\n    purple,\n    primary: {\n      light: red[200],\n      main: red[500],\n    },\n    secondary: {\n      main: teal[200],\n    },\n    white,\n    teal,\n  },\n  siteWidth: 1200,\n  spacing: {\n    1: 4,\n    2: 8,\n    3: 16,\n    4: 24,\n    5: 32,\n    6: 48,\n    7: 64,\n  },\n  topBarSize: 72\n}\n\nexport default theme","import { useCallback, useEffect, useState } from 'react';\n\nconst VISIBILITY_STATE_SUPPORTED = 'visibilityState' in document;\n\nfunction isWindowVisible() {\n  return !VISIBILITY_STATE_SUPPORTED || document.visibilityState !== 'hidden';\n}\n\n/**\n * Returns whether the window is currently visible to the user.\n */\nexport default function useIsWindowVisible(): boolean {\n  const [focused, setFocused] = useState<boolean>(isWindowVisible());\n  const listener = useCallback(() => {\n    setFocused(isWindowVisible());\n  }, [setFocused]);\n\n  useEffect(() => {\n    if (!VISIBILITY_STATE_SUPPORTED) return undefined;\n\n    document.addEventListener('visibilitychange', listener);\n    return () => {\n      document.removeEventListener('visibilitychange', listener);\n    };\n  }, [listener]);\n\n  return focused;\n}\n","import { useCallback, useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useWallet } from 'use-wallet';\nimport useDebounce from '../../hooks/useDebounce';\nimport useIsWindowVisible from '../../hooks/useIsWindowVisible';\nimport { updateBlockNumber } from './actions';\nimport { getDefaultProvider } from '../../utils/provider';\n\nexport default function Updater(): null {\n  const { ethereum, chainId } = useWallet();\n\n  const dispatch = useDispatch();\n\n  const windowVisible = useIsWindowVisible();\n\n  const [state, setState] = useState<{\n    chainId: number | undefined;\n    blockNumber: number | null;\n  }>({\n    chainId,\n    blockNumber: null,\n  });\n\n  const blockNumberCallback = useCallback(\n    (blockNumber: number) => {\n      setState((state) => {\n        if (chainId === state.chainId) {\n          if (typeof state.blockNumber !== 'number') return { chainId, blockNumber };\n          return { chainId, blockNumber: Math.max(blockNumber, state.blockNumber) };\n        }\n        return state;\n      });\n    },\n    [chainId, setState],\n  );\n\n  // attach/detach listeners\n  useEffect(() => {\n    if (!ethereum || !chainId || !windowVisible) return undefined;\n    setState({ chainId, blockNumber: null });\n\n    const provider = getDefaultProvider();\n    provider\n      .getBlockNumber()\n      .then(blockNumberCallback)\n      .catch((error) =>\n        console.error(`Failed to get block number for chainId: ${chainId}`, error),\n      );\n\n    provider.on('block', blockNumberCallback)\n    return () => provider.removeListener('block', blockNumberCallback);\n  }, [dispatch, chainId, ethereum, blockNumberCallback, windowVisible]);\n\n  const debouncedState = useDebounce(state, 100);\n\n  useEffect(() => {\n    if (!debouncedState.chainId || !debouncedState.blockNumber || !windowVisible) return;\n    dispatch(\n      updateBlockNumber({\n        chainId: debouncedState.chainId,\n        blockNumber: debouncedState.blockNumber,\n      }),\n    );\n  }, [windowVisible, dispatch, debouncedState.blockNumber, debouncedState.chainId]);\n\n  return null;\n}\n","import { useEffect, useState } from 'react'\n\n// modified from https://usehooks.com/useDebounce/\nexport default function useDebounce<T>(value: T, delay: number): T {\n  const [debouncedValue, setDebouncedValue] = useState<T>(value)\n\n  useEffect(() => {\n    // Update debounced value after delay\n    const handler = setTimeout(() => {\n      setDebouncedValue(value)\n    }, delay)\n\n    // Cancel the timeout if value changes (also on delay change or unmount)\n    // This is how we prevent debounced value from updating if value is changed ...\n    // .. within the delay period. Timeout gets cleared and restarted.\n    return () => {\n      clearTimeout(handler)\n    }\n  }, [value, delay])\n\n  return debouncedValue\n}\n","import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useWallet } from 'use-wallet';\nimport { useAddPopup, useBlockNumber } from '../application/hooks';\nimport { AppDispatch, AppState } from '../index';\nimport { checkedTransaction, finalizeTransaction } from './actions';\nimport { getDefaultProvider } from '../../utils/provider';\n\nexport function shouldCheck(\n  lastBlockNumber: number,\n  tx: { addedTime: number; receipt?: {}; lastCheckedBlockNumber?: number },\n): boolean {\n  if (tx.receipt) return false;\n  if (!tx.lastCheckedBlockNumber) return true;\n  const blocksSinceCheck = lastBlockNumber - tx.lastCheckedBlockNumber;\n  if (blocksSinceCheck < 1) return false;\n  const minutesPending = (new Date().getTime() - tx.addedTime) / 1000 / 60;\n  if (minutesPending > 60) {\n    // every 10 blocks if pending for longer than an hour\n    return blocksSinceCheck > 9;\n  } else if (minutesPending > 5) {\n    // every 3 blocks if pending more than 5 minutes\n    return blocksSinceCheck > 2;\n  } else {\n    // otherwise every block\n    return true;\n  }\n}\n\nexport default function Updater(): null {\n  const { chainId, ethereum } = useWallet();\n\n  const lastBlockNumber = useBlockNumber();\n\n  const dispatch = useDispatch<AppDispatch>();\n  const state = useSelector<AppState, AppState['transactions']>((state) => state.transactions);\n\n  const transactions = chainId ? state[chainId] ?? {} : {};\n\n  // show popup on confirm\n  const addPopup = useAddPopup();\n\n  useEffect(() => {\n    if (!chainId || !ethereum || !lastBlockNumber) {\n      return;\n    }\n\n    const provider = getDefaultProvider();\n    Object.keys(transactions)\n      .filter((hash) => shouldCheck(lastBlockNumber, transactions[hash]))\n      .forEach((hash) => {\n        provider\n          .getTransactionReceipt(hash)\n          .then((receipt) => {\n            if (receipt) {\n              dispatch(\n                finalizeTransaction({\n                  chainId,\n                  hash,\n                  receipt: {\n                    blockHash: receipt.blockHash,\n                    blockNumber: receipt.blockNumber,\n                    contractAddress: receipt.contractAddress,\n                    from: receipt.from,\n                    status: receipt.status,\n                    to: receipt.to,\n                    transactionHash: receipt.transactionHash,\n                    transactionIndex: receipt.transactionIndex,\n                  },\n                }),\n              );\n\n              addPopup(\n                {\n                  txn: {\n                    hash,\n                    success: receipt.status == 1,\n                    summary: transactions[hash]?.summary,\n                  },\n                },\n                hash,\n              );\n            } else {\n              dispatch(checkedTransaction({ chainId, hash, blockNumber: lastBlockNumber }));\n            }\n          })\n          .catch((error) => {\n            console.error(`failed to check transaction hash: ${hash}`, error);\n          });\n      });\n  }, [chainId, ethereum, transactions, lastBlockNumber, dispatch, addPopup]);\n\n  return null;\n}\n","import React from 'react';\nimport ApplicationUpdater from './application/updater'\nimport TransactionUpdater from './transactions/updater'\n\nconst Updaters = () => (\n  <>\n    <ApplicationUpdater />\n    <TransactionUpdater />\n  </>\n);\n\nexport default Updaters;\n","import { useCallback } from 'react';\nimport useBasisCash from './useBasisCash';\nimport useHandleTransactionReceipt from './useHandleTransactionReceipt';\n\nconst useHarvestFromBoardroom = () => {\n  const basisCash = useBasisCash();\n  const handleTransactionReceipt = useHandleTransactionReceipt();\n\n  const handleReward = useCallback(() => {\n    handleTransactionReceipt(basisCash.harvestCashFromBoardroom(), 'Claim GOC from Boardroom');\n  }, [basisCash]);\n\n  return { onReward: handleReward };\n};\n\nexport default useHarvestFromBoardroom;\n","import { useCallback, useEffect, useState } from 'react';\nimport { BigNumber } from 'ethers';\nimport useBasisCash from './useBasisCash';\nimport config from '../config';\n\nconst useEarningsOnBoardroom = () => {\n  const [balance, setBalance] = useState(BigNumber.from(0));\n  const basisCash = useBasisCash();\n\n  const fetchBalance = useCallback(async () => {\n    setBalance(await basisCash.getEarningsOnBoardroom());\n  }, [basisCash?.isUnlocked]);\n\n  useEffect(() => {\n    if (basisCash?.isUnlocked) {\n      fetchBalance().catch((err) => console.error(err.stack));\n\n      const refreshBalance = setInterval(fetchBalance, config.refreshInterval);\n      return () => clearInterval(refreshBalance);\n    }\n  }, [basisCash?.isUnlocked, setBalance]);\n\n  return balance;\n};\n\nexport default useEarningsOnBoardroom;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport Button from '../../../components/Button';\nimport TokenSymbol from '../../../components/TokenSymbol';\nimport Card from '../../../components/Card';\nimport CardContent from '../../../components/CardContent';\nimport Label from '../../../components/Label';\nimport Value from '../../../components/Value';\nimport CardIcon from '../../../components/CardIcon';\nimport useHarvestFromBoardroom from '../../../hooks/useHarvestFromBoardroom';\nimport useEarningsOnBoardroom from '../../../hooks/useEarningsOnBoardroom';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\n\nconst Harvest: React.FC = ({}) => {\n  const { onReward } = useHarvestFromBoardroom();\n  const earnings = useEarningsOnBoardroom();\n\n  return (\n    <Card>\n      <CardContent>\n        <StyledCardContentInner>\n          <StyledCardHeader>\n            <CardIcon>\n              <TokenSymbol symbol=\"GOC\" />\n            </CardIcon>\n            <Value value={getDisplayBalance(earnings)} />\n            <Label text=\"Basis Cash Earned\" />\n          </StyledCardHeader>\n          <StyledCardActions>\n            <Button onClick={onReward} text=\"Claim Reward\" disabled={earnings.eq(0)} />\n          </StyledCardActions>\n        </StyledCardContentInner>\n      </CardContent>\n    </Card>\n  );\n};\n\nconst StyledCardHeader = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n`;\nconst StyledCardActions = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: ${(props) => props.theme.spacing[6]}px;\n  width: 100%;\n`;\n\nconst StyledSpacer = styled.div`\n  height: ${(props) => props.theme.spacing[4]}px;\n  width: ${(props) => props.theme.spacing[4]}px;\n`;\n\nconst StyledCardContentInner = styled.div`\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n`;\n\nexport default Harvest;\n","import { useCallback } from 'react';\nimport useBasisCash from './useBasisCash';\nimport useHandleTransactionReceipt from './useHandleTransactionReceipt';\n\nconst useHarvestFromLpBoardroom = () => {\n  const basisCash = useBasisCash();\n  const handleTransactionReceipt = useHandleTransactionReceipt();\n\n  const handleReward = useCallback(() => {\n    handleTransactionReceipt(basisCash.harvestCashFromLpBoardroom(), 'Claim GOC from Boardroom');\n  }, [basisCash]);\n\n  return { onReward: handleReward };\n};\n\nexport default useHarvestFromLpBoardroom;\n","import { useCallback, useEffect, useState } from 'react';\nimport { BigNumber } from 'ethers';\nimport useBasisCash from './useBasisCash';\nimport config from '../config';\n\nconst useEarningsOnLpBoardroom = () => {\n  const [balance, setBalance] = useState(BigNumber.from(0));\n  const basisCash = useBasisCash();\n\n  const fetchBalance = useCallback(async () => {\n    setBalance(await basisCash.getEarningsOnLpBoardroom());\n  }, [basisCash?.isUnlocked]);\n\n  useEffect(() => {\n    if (basisCash?.isUnlocked) {\n      fetchBalance().catch((err) => console.error(err.stack));\n\n      const refreshBalance = setInterval(fetchBalance, config.refreshInterval);\n      return () => clearInterval(refreshBalance);\n    }\n  }, [basisCash?.isUnlocked, setBalance]);\n\n  return balance;\n};\n\nexport default useEarningsOnLpBoardroom;\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport Button from '../../../components/Button';\nimport TokenSymbol from '../../../components/TokenSymbol';\nimport Card from '../../../components/Card';\nimport CardContent from '../../../components/CardContent';\nimport Label from '../../../components/Label';\nimport Value from '../../../components/Value';\nimport CardIcon from '../../../components/CardIcon';\nimport useHarvestFromLpBoardroom from '../../../hooks/useHarvestFromLpBoardroom';\nimport useEarningsOnLpBoardroom from '../../../hooks/useEarningsOnLpBoardroom';\nimport { getDisplayBalance } from '../../../utils/formatBalance';\n\nconst Harvest: React.FC = ({}) => {\n  const { onReward } = useHarvestFromLpBoardroom();\n  const earnings = useEarningsOnLpBoardroom();\n\n  return (\n    <Card>\n      <CardContent>\n        <StyledCardContentInner>\n          <StyledCardHeader>\n            <CardIcon>\n              <TokenSymbol symbol=\"GOC\" />\n            </CardIcon>\n            <Value value={getDisplayBalance(earnings)} />\n            <Label text=\"Basis Cash Earned\" />\n          </StyledCardHeader>\n          <StyledCardActions>\n            <Button onClick={onReward} text=\"Claim Reward\" disabled={earnings.eq(0)} />\n          </StyledCardActions>\n        </StyledCardContentInner>\n      </CardContent>\n    </Card>\n  );\n};\n\nconst StyledCardHeader = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n`;\nconst StyledCardActions = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: ${(props) => props.theme.spacing[6]}px;\n  width: 100%;\n`;\n\nconst StyledSpacer = styled.div`\n  height: ${(props) => props.theme.spacing[4]}px;\n  width: ${(props) => props.theme.spacing[4]}px;\n`;\n\nconst StyledCardContentInner = styled.div`\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n`;\n\nexport default Harvest;\n","import React, { useCallback, useMemo, useState } from 'react'\n\nimport Button from '../../../components/Button'\nimport Modal, { ModalProps } from '../../../components/Modal'\nimport ModalActions from '../../../components/ModalActions'\nimport ModalTitle from '../../../components/ModalTitle'\nimport TokenInput from '../../../components/TokenInput'\n\nimport { getFullDisplayBalance } from '../../../utils/formatBalance'\nimport { BigNumber } from 'ethers';\n\ninterface DepositModalProps extends ModalProps {\n  max: BigNumber,\n  onConfirm: (amount: string) => void,\n  tokenName?: string,\n}\n\nconst DepositModal: React.FC<DepositModalProps> = ({ max, onConfirm, onDismiss, tokenName = '' }) => {\n  const [val, setVal] = useState('')\n\n  const fullBalance = useMemo(() => {\n    return getFullDisplayBalance(max, tokenName === 'USDC' ? 6 : 18)\n  }, [max])\n\n  const handleChange = useCallback((e: React.FormEvent<HTMLInputElement>) => {\n    setVal(e.currentTarget.value)\n  }, [setVal])\n\n  const handleSelectMax = useCallback(() => {\n    setVal(fullBalance)\n  }, [fullBalance, setVal])\n\n  return (\n    <Modal>\n      <ModalTitle text={`Deposit ${tokenName}`} />\n      <TokenInput\n        value={val}\n        onSelectMax={handleSelectMax}\n        onChange={handleChange}\n        max={fullBalance}\n        symbol={tokenName}\n      />\n      <ModalActions>\n        <Button text=\"Cancel\" variant=\"secondary\" onClick={onDismiss} />\n        <Button text=\"Confirm\" onClick={() => onConfirm(val)} />\n      </ModalActions>\n    </Modal>\n  )\n}\n\n\nexport default DepositModal","import React, { useCallback, useMemo, useState } from 'react'\n\nimport Button from '../../../components/Button'\nimport Modal, { ModalProps } from '../../../components/Modal'\nimport ModalActions from '../../../components/ModalActions'\nimport ModalTitle from '../../../components/ModalTitle'\nimport TokenInput from '../../../components/TokenInput'\n\nimport { getFullDisplayBalance } from '../../../utils/formatBalance'\nimport { BigNumber } from 'ethers';\n\ninterface WithdrawModalProps extends ModalProps {\n  max: BigNumber,\n  onConfirm: (amount: string) => void,\n  tokenName?: string,\n}\n\nconst WithdrawModal: React.FC<WithdrawModalProps> = ({ onConfirm, onDismiss, max, tokenName = '' }) => {\n  const [val, setVal] = useState('')\n\n  const fullBalance = useMemo(() => {\n    return getFullDisplayBalance(max)\n  }, [max])\n\n  const handleChange = useCallback((e: React.FormEvent<HTMLInputElement>) => {\n    setVal(e.currentTarget.value)\n  }, [setVal])\n\n  const handleSelectMax = useCallback(() => {\n    setVal(fullBalance)\n  }, [fullBalance, setVal])\n\n  return (\n    <Modal>\n      <ModalTitle text={`Withdraw ${tokenName}`} />\n      <TokenInput\n        onSelectMax={handleSelectMax}\n        onChange={handleChange}\n        value={val}\n        max={fullBalance}\n        symbol={tokenName}\n      />\n      <ModalActions>\n        <Button text=\"Cancel\" variant=\"secondary\" onClick={onDismiss} />\n        <Button text=\"Confirm\" onClick={() => onConfirm(val)} />\n      </ModalActions>\n    </Modal>\n  )\n}\n\nexport default WithdrawModal","import { useCallback, useEffect, useState } from 'react';\nimport { BigNumber } from 'ethers';\nimport useBasisCash from './useBasisCash';\nimport config from '../config';\n\nconst useStakedBalanceOnBoardroom = () => {\n  const [balance, setBalance] = useState(BigNumber.from(0));\n  const basisCash = useBasisCash();\n\n  const fetchBalance = useCallback(async () => {\n    setBalance(await basisCash.getStakedSharesOnBoardroom());\n  }, [basisCash?.isUnlocked]);\n\n  useEffect(() => {\n    if (basisCash?.isUnlocked) {\n      fetchBalance().catch((err) => console.error(err.stack));\n\n      const refreshBalance = setInterval(fetchBalance, config.refreshInterval);\n      return () => clearInterval(refreshBalance);\n    }\n  }, [basisCash?.isUnlocked, setBalance, basisCash]);\n\n  return balance;\n};\n\nexport default useStakedBalanceOnBoardroom;\n","import { useCallback } from 'react';\nimport useBasisCash from './useBasisCash';\nimport useHandleTransactionReceipt from './useHandleTransactionReceipt';\n\nconst useStakeToBoardroom = () => {\n  const basisCash = useBasisCash();\n  const handleTransactionReceipt = useHandleTransactionReceipt();\n\n  const handleStake = useCallback(\n    (amount: string) => {\n      handleTransactionReceipt(\n        basisCash.stakeShareToBoardroom(amount),\n        `Stake ${amount} BAS to the boardroom`,\n      );\n    },\n    [basisCash],\n  );\n  return { onStake: handleStake };\n};\n\nexport default useStakeToBoardroom;\n","import { useCallback, useState, useEffect } from 'react';\nimport useBasisCash from './useBasisCash';\nimport { Bank } from '../basis-cash';\nimport { useTransactionAdder } from '../state/transactions/hooks';\nimport { BigNumber } from 'ethers';\nimport useHandleTransactionReceipt from './useHandleTransactionReceipt';\nimport config from '../config';\n\nconst useWithdrawFromBoardroom = () => {\n  const [canWithdraw, setCanWithdraw] = useState<Boolean>();\n  const [canWithdrawTime, setCanWithdrawTime] = useState(BigNumber.from(0));\n  const basisCash = useBasisCash();\n  const handleTransactionReceipt = useHandleTransactionReceipt();\n\n  const getCanWithdraw = useCallback(async () => {\n    setCanWithdraw(await basisCash.canWithdrawFromBoardroom());\n    setCanWithdrawTime(await basisCash.canWithdrawTimeFromBoardroom());\n  }, [basisCash?.isUnlocked]);\n\n  useEffect(() => {\n    if (basisCash?.isUnlocked) {\n      getCanWithdraw().catch((err) => console.error(err.stack));\n\n      const refreshBalance = setInterval(getCanWithdraw, config.refreshInterval);\n      return () => clearInterval(refreshBalance);\n    }\n  }, [basisCash?.isUnlocked, setCanWithdraw,setCanWithdrawTime]);\n  const handleWithdraw = useCallback(\n    (amount: string) => {\n      handleTransactionReceipt(\n        basisCash.withdrawShareFromBoardroom(amount),\n        `Withdraw ${amount} BAS from the boardroom`,\n      );\n    },\n    [basisCash],\n  );\n  return { onWithdraw: handleWithdraw, canWithdraw,canWithdrawTime };\n};\n\nexport default useWithdrawFromBoardroom;\n","import { useCallback, useEffect, useState } from 'react';\nimport useBasisCash from './useBasisCash';\nimport useStakedBalanceOnBoardroom from './useStakedBalanceOnBoardroom';\n\nconst useBoardroomVersion = () => {\n  const [boardroomVersion, setBoardroomVersion] = useState('latest');\n  const basisCash = useBasisCash();\n  const stakedBalance = useStakedBalanceOnBoardroom();\n\n  const updateState = useCallback(async () => {\n    setBoardroomVersion(await basisCash.fetchBoardroomVersionOfUser());\n  }, [basisCash?.isUnlocked, stakedBalance]);\n\n  useEffect(() => {\n    if (basisCash?.isUnlocked) {\n      updateState().catch((err) => console.error(err.stack));\n    }\n  }, [basisCash?.isUnlocked, stakedBalance]);\n\n  return boardroomVersion;\n};\n\nexport default useBoardroomVersion;\n","import { useCallback } from 'react';\nimport useBasisCash from './useBasisCash';\nimport useHandleTransactionReceipt from './useHandleTransactionReceipt';\n\nconst useRedeemOnBoardroom = (description?: string) => {\n  const basisCash = useBasisCash();\n  const handleTransactionReceipt = useHandleTransactionReceipt();\n\n  const handleRedeem = useCallback(() => {\n    const alertDesc = description || 'Redeem BAS from Boardroom';\n    handleTransactionReceipt(basisCash.exitFromBoardroom(), alertDesc);\n  }, [basisCash]);\n  return { onRedeem: handleRedeem };\n};\n\nexport default useRedeemOnBoardroom;\n","import React, { useMemo } from 'react';\nimport styled from 'styled-components';\n\nimport Button from '../../../components/Button';\nimport Card from '../../../components/Card';\nimport CardContent from '../../../components/CardContent';\nimport CardIcon from '../../../components/CardIcon';\nimport { AddIcon, RemoveIcon } from '../../../components/icons';\nimport IconButton from '../../../components/IconButton';\nimport Label from '../../../components/Label';\nimport Value from '../../../components/Value';\n\nimport useApprove, { ApprovalState } from '../../../hooks/useApprove';\nimport useModal from '../../../hooks/useModal';\nimport useTokenBalance from '../../../hooks/useTokenBalance';\n\nimport { getDisplayBalance } from '../../../utils/formatBalance';\n\nimport DepositModal from './DepositModal';\nimport WithdrawModal from './WithdrawModal';\nimport useBasisCash from '../../../hooks/useBasisCash';\nimport useStakedBalanceOnBoardroom from '../../../hooks/useStakedBalanceOnBoardroom';\nimport TokenSymbol from '../../../components/TokenSymbol';\nimport useStakeToBoardroom from '../../../hooks/useStakeToBoardroom';\nimport useWithdrawFromBoardroom from '../../../hooks/useWithdrawFromBoardroom';\nimport useBoardroomVersion from '../../../hooks/useBoardroomVersion';\nimport useRedeemOnBoardroom from '../../../hooks/useRedeemOnBoardroom';\nimport moment from 'moment';\n\nconst Stake: React.FC = () => {\n  const basisCash = useBasisCash();\n  const boardroomVersion = useBoardroomVersion();\n  const [approveStatus, approve] = useApprove(\n    basisCash.GOS,\n    basisCash.boardroomByVersion(boardroomVersion).address,\n  );\n\n  const tokenBalance = useTokenBalance(basisCash.GOS);\n  const stakedBalance = useStakedBalanceOnBoardroom();\n  // const isOldBoardroomMember = boardroomVersion !== 'latest';\n\n  const { onStake } = useStakeToBoardroom();\n  const { onWithdraw, canWithdraw, canWithdrawTime  } = useWithdrawFromBoardroom();\n  const { onRedeem } = useRedeemOnBoardroom('Redeem BAS for Boardroom Migration');\n  const _canWithdrawTime = new Date(canWithdrawTime.mul(1000).toNumber());\n\n  const withdrawTime = useMemo(() => moment(_canWithdrawTime).utc().startOf('hour').toDate(), [_canWithdrawTime]);\n\n  const [onPresentDeposit, onDismissDeposit] = useModal(\n    <DepositModal\n      max={tokenBalance}\n      onConfirm={(value) => {\n        onStake(value);\n        onDismissDeposit();\n      }}\n      tokenName={'Basis Share'}\n    />,\n  );\n\n  const [onPresentWithdraw, onDismissWithdraw] = useModal(\n    <WithdrawModal\n      max={stakedBalance}\n      onConfirm={(value) => {\n        onWithdraw(value);\n        onDismissWithdraw();\n      }}\n      tokenName={'Basis Share'}\n    />,\n  );\n\n  return (\n    <Card>\n      <CardContent>\n        <StyledCardContentInner>\n          <StyledCardHeader>\n            <CardIcon>\n              <TokenSymbol symbol=\"GOS\" />\n            </CardIcon>\n            <Value value={getDisplayBalance(stakedBalance)} />\n            <Label text=\"Basis Share Staked\" />\n          </StyledCardHeader>\n          <StyledCardActions>\n            {approveStatus !== ApprovalState.APPROVED ? (\n              <Button\n                disabled={approveStatus !== ApprovalState.NOT_APPROVED}\n                onClick={approve}\n                text=\"Approve Basis Share\"\n              />\n            ) : (\n                <>\n                  {canWithdraw ? (\n                    <IconButton onClick={onPresentWithdraw}>\n                      <RemoveIcon />\n                    </IconButton>\n                  ) : (\n                    <IconButton disabled={true}>\n                    <Label text=\"can not withdraw\" />\n                    </IconButton>\n                    )}\n                  <StyledActionSpacer />\n                  <IconButton onClick={onPresentDeposit}>\n                    <AddIcon />\n                  </IconButton>\n                </>\n              )}\n          </StyledCardActions>\n        </StyledCardContentInner>\n      </CardContent>\n    </Card>\n  );\n};\n\nconst StyledCardHeader = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n`;\nconst StyledCardActions = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: ${(props) => props.theme.spacing[6]}px;\n  width: 100%;\n`;\n\nconst StyledActionSpacer = styled.div`\n  height: ${(props) => props.theme.spacing[4]}px;\n  width: ${(props) => props.theme.spacing[4]}px;\n`;\n\nconst StyledCardContentInner = styled.div`\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n`;\n\nexport default Stake;\n","import { useCallback, useEffect, useState } from 'react';\nimport { BigNumber } from 'ethers';\nimport useBasisCash from './useBasisCash';\nimport config from '../config';\n\nconst useStakedBalanceOnLpBoardroom = () => {\n  const [balance, setBalance] = useState(BigNumber.from(0));\n  const basisCash = useBasisCash();\n\n  const fetchBalance = useCallback(async () => {\n    setBalance(await basisCash.getStakedSharesOnLpBoardroom());\n  }, [basisCash?.isUnlocked]);\n\n  useEffect(() => {\n    if (basisCash?.isUnlocked) {\n      fetchBalance().catch((err) => console.error(err.stack));\n\n      const refreshBalance = setInterval(fetchBalance, config.refreshInterval);\n      return () => clearInterval(refreshBalance);\n    }\n  }, [basisCash?.isUnlocked, setBalance, basisCash]);\n\n  return balance;\n};\n\nexport default useStakedBalanceOnLpBoardroom;\n","import { useCallback } from 'react';\nimport useBasisCash from './useBasisCash';\nimport useHandleTransactionReceipt from './useHandleTransactionReceipt';\n\nconst useStakeToLpBoardroom = () => {\n  const basisCash = useBasisCash();\n  const handleTransactionReceipt = useHandleTransactionReceipt();\n\n  const handleStake = useCallback(\n    (amount: string) => {\n      handleTransactionReceipt(\n        basisCash.stakeShareToLpBoardroom(amount),\n        `Stake ${amount} BAS to the boardroom`,\n      );\n    },\n    [basisCash],\n  );\n  return { onStake: handleStake };\n};\n\nexport default useStakeToLpBoardroom;\n","import { useCallback, useState, useEffect } from 'react';\nimport useBasisCash from './useBasisCash';\nimport { Bank } from '../basis-cash';\nimport { useTransactionAdder } from '../state/transactions/hooks';\nimport { BigNumber } from 'ethers';\nimport useHandleTransactionReceipt from './useHandleTransactionReceipt';\nimport config from '../config';\n\nconst useWithdrawFromLpBoardroom = () => {\n  const [canWithdrawLp, setCanWithdraw] = useState<Boolean>();\n  const [canWithdrawTime, setCanWithdrawTime] = useState(BigNumber.from(0));\n  const basisCash = useBasisCash();\n  const handleTransactionReceipt = useHandleTransactionReceipt();\n\n  const getCanWithdraw = useCallback(async () => {\n    setCanWithdraw(await basisCash.canWithdrawFromLpBoardroom());\n    setCanWithdrawTime(await basisCash.canWithdrawTimeFromLpBoardroom());\n  }, [basisCash?.isUnlocked]);\n\n\n  useEffect(() => {\n    if (basisCash?.isUnlocked) {\n      getCanWithdraw().catch((err) => console.error(err.stack));\n\n      const refreshBalance = setInterval(getCanWithdraw, config.refreshInterval);\n      return () => clearInterval(refreshBalance);\n    }\n  }, [basisCash?.isUnlocked, setCanWithdraw,setCanWithdrawTime]);\n  const handleWithdraw = useCallback(\n    (amount: string) => {\n      handleTransactionReceipt(\n        basisCash.withdrawShareFromLpBoardroom(amount),\n        `Withdraw ${amount} BAS from the boardroom`,\n      );\n    },\n    [basisCash],\n  );\n  return { onWithdraw: handleWithdraw, canWithdrawLp,canWithdrawTime };\n};\n\nexport default useWithdrawFromLpBoardroom;\n","import { useCallback } from 'react';\nimport useBasisCash from './useBasisCash';\nimport useHandleTransactionReceipt from './useHandleTransactionReceipt';\n\nconst useRedeemOnLpBoardroom = (description?: string) => {\n  const basisCash = useBasisCash();\n  const handleTransactionReceipt = useHandleTransactionReceipt();\n\n  const handleRedeem = useCallback(() => {\n    const alertDesc = description || 'Redeem BAS from Boardroom';\n    handleTransactionReceipt(basisCash.exitFromLpBoardroom(), alertDesc);\n  }, [basisCash]);\n  return { onLpRedeem: handleRedeem };\n};\n\nexport default useRedeemOnLpBoardroom;\n","import React, { useMemo } from 'react';\nimport styled from 'styled-components';\n\nimport Button from '../../../components/Button';\nimport Card from '../../../components/Card';\nimport CardContent from '../../../components/CardContent';\nimport CardIcon from '../../../components/CardIcon';\nimport { AddIcon, RemoveIcon } from '../../../components/icons';\nimport IconButton from '../../../components/IconButton';\nimport Label from '../../../components/Label';\nimport Value from '../../../components/Value';\n\nimport useApprove, { ApprovalState } from '../../../hooks/useApprove';\nimport useModal from '../../../hooks/useModal';\nimport useTokenBalance from '../../../hooks/useTokenBalance';\n\nimport { getDisplayBalance } from '../../../utils/formatBalance';\n\nimport DepositModal from './DepositModal';\nimport WithdrawModal from './WithdrawModal';\nimport useBasisCash from '../../../hooks/useBasisCash';\nimport useStakedBalanceOnLpBoardroom from '../../../hooks/useStakedBalanceOnLpBoardroom';\nimport TokenSymbol from '../../../components/TokenSymbol';\nimport useStakeToLpBoardroom from '../../../hooks/useStakeToLpBoardroom';\nimport useWithdrawFromLpBoardroom from '../../../hooks/useWithdrawFromLpBoardroom';\nimport useRedeemOnLpBoardroom from '../../../hooks/useRedeemOnLpBoardroom';\nimport moment from 'moment';\n\nconst Stake: React.FC = () => {\n  const basisCash = useBasisCash();\n  // const boardroomVersion = useBoardroomVersion();\n  const [approveStatus, approve] = useApprove(\n    basisCash.GOSLP,\n    basisCash.boardroomByVersion('lp').address,\n  );\n  const tokenBalance = useTokenBalance(basisCash.GOSLP);\n  const stakedBalance = useStakedBalanceOnLpBoardroom();\n  // const isOldBoardroomMember = boardroomVersion !== 'latest';\n\n  const { onStake } = useStakeToLpBoardroom();\n  const { onWithdraw, canWithdrawLp, canWithdrawTime } = useWithdrawFromLpBoardroom();\n  const { onLpRedeem } = useRedeemOnLpBoardroom('Redeem BAS for Boardroom Migration');\n  const _canWithdrawTime = new Date(canWithdrawTime.mul(1000).toNumber());\n\n  const withdrawTime = useMemo(() => moment(_canWithdrawTime).utc().startOf('hour').toDate(), [_canWithdrawTime]);\n\n  const [onPresentDeposit, onDismissDeposit] = useModal(\n    <DepositModal\n      max={tokenBalance}\n      onConfirm={(value) => {\n        onStake(value);\n        onDismissDeposit();\n      }}\n      tokenName={'Basis Share'}\n    />,\n  );\n\n  const [onPresentWithdraw, onDismissWithdraw] = useModal(\n    <WithdrawModal\n      max={stakedBalance}\n      onConfirm={(value) => {\n        onWithdraw(value);\n        onDismissWithdraw();\n      }}\n      tokenName={'Basis Share'}\n    />,\n  );\n\n  return (\n    <Card>\n      <CardContent>\n        <StyledCardContentInner>\n          <StyledCardHeader>\n            <CardIcon>\n              <TokenSymbol symbol=\"GOS\" />\n            </CardIcon>\n            <Value value={getDisplayBalance(stakedBalance)} />\n            <Label text=\"Basis Share LP Staked\" />\n          </StyledCardHeader>\n          <StyledCardActions>\n            {approveStatus !== ApprovalState.APPROVED ? (\n              <Button\n                disabled={approveStatus !== ApprovalState.NOT_APPROVED}\n                onClick={approve}\n                text=\"Approve Basis Share LP\"\n              />\n            ) : (\n                <>\n                  {canWithdrawLp ? (\n                    <IconButton onClick={onPresentWithdraw}>\n                      <RemoveIcon />\n                    </IconButton>\n                  ) : (\n                    <IconButton disabled={true}>\n                    <Label text=\"can not withdraw\" />\n                    </IconButton>\n                    )}\n                  <StyledActionSpacer />\n                  <IconButton onClick={onPresentDeposit}>\n                    <AddIcon />\n                  </IconButton>\n                </>\n              )}\n          </StyledCardActions>\n        </StyledCardContentInner>\n      </CardContent>\n    </Card>\n  );\n};\n\nconst StyledCardHeader = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n`;\nconst StyledCardActions = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-top: ${(props) => props.theme.spacing[6]}px;\n  width: 100%;\n`;\n\nconst StyledActionSpacer = styled.div`\n  height: ${(props) => props.theme.spacing[4]}px;\n  width: ${(props) => props.theme.spacing[4]}px;\n`;\n\nconst StyledCardContentInner = styled.div`\n  align-items: center;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  justify-content: space-between;\n`;\n\nexport default Stake;\n","import React from 'react';\nimport styled from 'styled-components';\nimport Card from '../../../components/Card';\n\ninterface StatProps {\n  icon: string;\n  title: string;\n  description: string;\n}\n\nconst Stat: React.FC<StatProps> = ({ icon, title, description }) => {\n  return (\n    <Card>\n      <StyledCardContentInner>\n        <StyledIcon>{icon}</StyledIcon>\n        <StyledTextWrapper>\n          <StyledCardTitle>{title}</StyledCardTitle>\n          <StyledDesc>{description}</StyledDesc>\n        </StyledTextWrapper>\n      </StyledCardContentInner>\n    </Card>\n  );\n};\n\nconst StyledCardTitle = styled.div`\n  color: ${(props) => props.theme.color.grey[200]};\n  font-size: 18px;\n  font-weight: 700;\n`;\n\nconst StyledDesc = styled.span`\n  color: ${(props) => props.theme.color.grey[400]};\n`;\n\nconst StyledIcon = styled.span`\n  font-size: 28px;\n  margin-right: 10px;\n`;\n\nconst StyledTextWrapper = styled.span`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst StyledCardContentInner = styled.div`\n  height: 100%;\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  padding: ${(props) => props.theme.spacing[2]}px ${(props) => props.theme.spacing[4]}px;\n`;\n\nexport default Stat;\n","import React from 'react';\nimport styled from 'styled-components';\nimport Card from '../../../components/Card';\nimport Countdown, { CountdownRenderProps } from 'react-countdown';\n\ninterface ProgressCountdownProps {\n  base: Date;\n  deadline: Date;\n  description: string;\n}\n\nconst ProgressCountdown: React.FC<ProgressCountdownProps> = ({\n  base,\n  deadline,\n  description,\n}) => {\n  const percentage =\n    Date.now() >= deadline.getTime()\n      ? 100\n      : ((Date.now() - base.getTime()) / (deadline.getTime() - base.getTime())) * 100;\n\n  const countdownRenderer = (countdownProps: CountdownRenderProps) => {\n    const { days, hours, minutes, seconds } = countdownProps;\n    const h = String(days * 24 + hours);\n    const m = String(minutes);\n    const s = String(seconds);\n    return (\n      <StyledCountdown>\n        {h.padStart(2, '0')}:{m.padStart(2, '0')}:{s.padStart(2, '0')}\n      </StyledCountdown>\n    );\n  };\n  return (\n    <Card>\n      <StyledCardContentInner>\n        <StyledDesc>{description}</StyledDesc>\n        <Countdown date={deadline} renderer={countdownRenderer} />\n        <StyledProgressOuter>\n          <StyledProgress progress={percentage} />\n        </StyledProgressOuter>\n      </StyledCardContentInner>\n    </Card>\n  );\n};\n\nconst StyledCountdown = styled.p`\n  font-size: 20px;\n  font-weight: 700;\n  color: ${(props) => props.theme.color.grey[100]};\n  margin: 0 0 6px 0;\n`;\n\nconst StyledProgressOuter = styled.div`\n  width: 100%;\n  height: 8px;\n  border-radius: 3px;\n  background: ${(props) => props.theme.color.grey[700]};\n`;\n\nconst StyledProgress = styled.div<{ progress: number }>`\n  width: ${(props) => props.progress}%;\n  height: 100%;\n  border-radius: 3px;\n  background: ${(props) => props.theme.color.grey[100]};\n`;\n\nconst StyledDesc = styled.span`\n  color: ${(props) => props.theme.color.grey[500]};\n  font-weight: 700;\n  font-size: 12px;\n  text-align: center;\n`;\n\nconst StyledCardContentInner = styled.div`\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding: ${(props) => props.theme.spacing[2]}px ${(props) => props.theme.spacing[4]}px;\n`;\n\nexport default ProgressCountdown;\n","import { useCallback, useEffect, useState } from 'react';\nimport useBasisCash from './useBasisCash';\nimport { TokenStat } from '../basis-cash/types';\nimport config from '../config';\n\nconst useCashPriceInEstimatedTWAP = () => {\n  const [stat, setStat] = useState<TokenStat>();\n  const basisCash = useBasisCash();\n\n  const fetchCashPrice = useCallback(async () => {\n    setStat(await basisCash.getCashStatInEstimatedTWAP());\n  }, [basisCash]);\n\n  useEffect(() => {\n    fetchCashPrice().catch((err) => console.error(`Failed to fetch BAB price: ${err.stack}`));\n    const refreshInterval = setInterval(fetchCashPrice, config.refreshInterval);\n    return () => clearInterval(refreshInterval);\n  }, [setStat, basisCash]);\n\n  return stat;\n};\n\nexport default useCashPriceInEstimatedTWAP;\n","import { useEffect, useState } from 'react';\nimport { BigNumber } from 'ethers';\nimport useBasisCash from './useBasisCash';\n\nconst useTreasuryAmount = () => {\n  const [amount, setAmount] = useState(BigNumber.from(0));\n  const basisCash = useBasisCash();\n\n\n  useEffect(() => {\n    if (basisCash) {\n      const { Treasury } = basisCash.contracts;\n      basisCash.GOC.balanceOf(Treasury.address).then(setAmount);\n    }\n  }, [basisCash]);\n  return amount;\n};\n\nexport default useTreasuryAmount;\n","import { useEffect, useState } from 'react';\nimport useBasisCash from './useBasisCash';\nimport config from '../config';\nimport { TreasuryAllocationTime } from '../basis-cash/types';\n\nconst useTreasuryAllocationTimes = () => {\n  const [time, setTime] = useState<TreasuryAllocationTime>({\n    prevAllocation: new Date(),\n    nextAllocation: new Date(),\n  });\n  const basisCash = useBasisCash();\n\n  useEffect(() => {\n    if (basisCash) {\n      basisCash.getTreasuryNextAllocationTime().then(setTime);\n    }\n  }, [basisCash]);\n  return time;\n};\n\nexport default useTreasuryAllocationTimes;\n","import React, { useEffect, useMemo } from 'react';\nimport styled from 'styled-components';\nimport { useWallet } from 'use-wallet';\n\nimport Button from '../../components/Button';\nimport PageHeader from '../../components/PageHeader';\nimport Spacer from '../../components/Spacer';\nimport Harvest from './components/Harvest';\nimport LpHarvest from './components/LpHarvest';\nimport Stake from './components/Stake';\nimport LpStake from './components/LpStake';\nimport { Switch } from 'react-router-dom';\nimport Page from '../../components/Page';\nimport useRedeemOnBoardroom from '../../hooks/useRedeemOnBoardroom';\nimport useRedeemOnLpBoardroom from '../../hooks/useRedeemOnLpBoardroom';\nimport useStakedBalanceOnBoardroom from '../../hooks/useStakedBalanceOnBoardroom';\nimport useStakedBalanceOnLpBoardroom from '../../hooks/useStakedBalanceOnLpBoardroom';\nimport useWithdrawFromBoardroom from '../../hooks/useWithdrawFromBoardroom';\nimport useWithdrawFromLpBoardroom from '../../hooks/useWithdrawFromLpBoardroom';\n\nimport config from '../../config';\nimport LaunchCountdown from '../../components/LaunchCountdown';\nimport Stat from './components/Stat';\nimport ProgressCountdown from './components/ProgressCountdown';\nimport useCashPriceInEstimatedTWAP from '../../hooks/useCashPriceInEstimatedTWAP';\nimport useTreasuryAmount from '../../hooks/useTreasuryAmount';\nimport Humanize from 'humanize-plus';\nimport { getBalance } from '../../utils/formatBalance';\nimport useTreasuryAllocationTimes from '../../hooks/useTreasuryAllocationTimes';\nimport Notice from '../../components/Notice';\nimport useBoardroomVersion from '../../hooks/useBoardroomVersion';\nimport moment from 'moment';\n\nconst Boardroom: React.FC = () => {\n  useEffect(() => window.scrollTo(0, 0));\n  const { account } = useWallet();\n  const { onRedeem } = useRedeemOnBoardroom();\n  const { onLpRedeem } = useRedeemOnLpBoardroom();\n  const stakedBalance = useStakedBalanceOnBoardroom();\n  const stakedLpBalance = useStakedBalanceOnLpBoardroom();\n  const { canWithdraw } = useWithdrawFromBoardroom();\n  const { canWithdrawLp } = useWithdrawFromLpBoardroom();\n\n  const cashStat = useCashPriceInEstimatedTWAP();\n  const treasuryAmount = useTreasuryAmount();\n  const scalingFactor = useMemo(\n    () => (cashStat ? Number(cashStat.priceInDAI).toFixed(2) : null),\n    [cashStat],\n  );\n  const { prevAllocation, nextAllocation } = useTreasuryAllocationTimes();\n\n  const prevEpoch = useMemo(\n    () =>\n      nextAllocation.getTime() <= Date.now()\n        ? moment().utc().startOf('hour').toDate()\n        : prevAllocation,\n    [prevAllocation, nextAllocation],\n  );\n  const nextEpoch = useMemo(() => moment(prevEpoch).add(8, 'hour').toDate(), [prevEpoch]);\n\n  const boardroomVersion = useBoardroomVersion();\n  // const usingOldBoardroom = boardroomVersion !== 'latest';\n  const migrateNotice = useMemo(() => {\n    if (boardroomVersion === 'v2') {\n      return (\n        <StyledNoticeWrapper>\n          <Notice color=\"green\">\n            <b>Please Migrate into New Boardroom</b>\n            <br />\n            The boardroom upgrade was successful. Please settle and withdraw your stake from the\n            legacy boardroom, then stake again on the new boardroom contract{' '}\n            <b>to continue earning GOC seigniorage.</b>\n          </Notice>\n        </StyledNoticeWrapper>\n      );\n    }\n    return <></>;\n  }, [boardroomVersion]);\n\n  const isLaunched = Date.now() >= config.boardroomLaunchesAt.getTime();\n  if (!isLaunched) {\n    return (\n      <Switch>\n        <Page>\n          <PageHeader\n            icon={''}\n            title=\"Join the Boardroom\"\n            subtitle=\"Deposit Basis Shares and earn inflationary rewards\"\n          />\n          <LaunchCountdown\n            deadline={config.boardroomLaunchesAt}\n            description=\"How does the boardroom work?\"\n            descriptionLink=\"https://docs.basis.cash/mechanisms/stabilization-mechanism#expansionary-policy\"\n          />\n        </Page>\n      </Switch>\n    );\n  }\n\n  return (\n    <Switch>\n      <Page>\n        {!!account ? (\n          <>\n            <PageHeader\n              icon={''}\n              title=\"Join the Boardroom\"\n              subtitle=\"Deposit Basis Shares and earn inflationary rewards\"\n            />\n            {migrateNotice}\n            <StyledHeader>\n              <ProgressCountdown\n                base={prevEpoch}\n                deadline={nextEpoch}\n                description=\"Next Epoch\"\n              />\n              <Stat\n                icon=\"\"\n                title={cashStat ? `$${cashStat.priceInDAI}` : '-'}\n                description=\"GOC Price (TWAP)\"\n              />\n              <Stat\n                icon=\"\"\n                title={scalingFactor ? `x${scalingFactor}` : '-'}\n                description=\"Scaling Factor\"\n              />\n              <Stat\n                icon=\"\"\n                title={\n                  treasuryAmount\n                    ? `~$${Humanize.compactInteger(getBalance(treasuryAmount), 2)}`\n                    : '-'\n                }\n                description=\"Treasury Amount\"\n              />\n            </StyledHeader>\n            <StyledBoardroom>\n              <StyledCardsWrapper>\n                <StyledCardWrapper>\n                  <Harvest />\n                </StyledCardWrapper>\n                <Spacer />\n                <StyledCardWrapper>\n                  <Stake />\n                </StyledCardWrapper>\n              </StyledCardsWrapper>\n              <Spacer size=\"lg\" />\n              {canWithdraw && (<><div>\n                <Button\n                  disabled={stakedBalance.eq(0)}\n                  onClick={onRedeem}\n                  text=\"Settle & Withdraw\"\n                />\n              </div>\n                <Spacer size=\"lg\" /></>) }\n              <StyledCardsWrapper>\n                <StyledCardWrapper>\n                  <LpHarvest />\n                </StyledCardWrapper>\n                <Spacer />\n                <StyledCardWrapper>\n                  <LpStake />\n                </StyledCardWrapper>\n              </StyledCardsWrapper>\n              <Spacer size=\"lg\" />\n              {canWithdrawLp && (<><div>\n                <Button\n                  disabled={stakedLpBalance.eq(0)}\n                  onClick={onLpRedeem}\n                  text=\"Settle & Withdraw\"\n                />\n              </div>\n                <Spacer size=\"lg\" /></>) }\n            </StyledBoardroom>\n          </>\n        ) : (\n            <UnlockWallet />\n          )}\n      </Page>\n    </Switch>\n  );\n};\n\nconst UnlockWallet = () => {\n  const { connect } = useWallet();\n  return (\n    <Center>\n      <Button onClick={() => connect('injected')} text=\"Unlock Wallet\" />\n    </Center>\n  );\n};\n\nconst StyledBoardroom = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n`;\n\nconst StyledHeader = styled.div`\n  justify-content: center;\n  display: flex;\n  flex-direction: row;\n  margin-bottom: ${(props) => props.theme.spacing[5]}px;\n  width: 960px;\n\n  > * {\n    flex: 1;\n    height: 84px;\n    margin: 0 ${(props) => props.theme.spacing[2]}px;\n  }\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    width: 100%;\n  }\n`;\n\nconst StyledNoticeWrapper = styled.div`\n  width: 768px;\n  margin-top: -20px;\n  margin-bottom: 40px;\n`;\n\nconst StyledCardsWrapper = styled.div`\n  display: flex;\n  width: 600px;\n  @media (max-width: 768px) {\n    width: 100%;\n    flex-flow: column nowrap;\n    align-items: center;\n  }\n`;\n\nconst StyledCardWrapper = styled.div`\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  @media (max-width: 768px) {\n    width: 80%;\n  }\n`;\n\nconst Center = styled.div`\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n`;\n\nexport default Boardroom;\n","import styled from 'styled-components'\n\nconst Column = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n`\nexport const ColumnCenter = styled(Column)`\n  width: 100%;\n  align-items: center;\n`\n\nexport const AutoColumn = styled.div<{\n  gap?: 'sm' | 'md' | 'lg' | string\n  justify?: 'stretch' | 'center' | 'start' | 'end' | 'flex-start' | 'flex-end' | 'space-between'\n}>`\n  display: grid;\n  grid-auto-rows: auto;\n  grid-row-gap: ${({ gap }) => (gap === 'sm' && '8px') || (gap === 'md' && '12px') || (gap === 'lg' && '24px') || gap};\n  justify-items: ${({ justify }) => justify && justify};\n`\n\nexport default Column\n","import React, { useContext } from 'react';\nimport { AlertCircle, CheckCircle } from 'react-feather';\nimport styled, { ThemeContext } from 'styled-components';\nimport { AutoColumn } from '../Column';\nimport { AutoRow } from '../Row';\nimport { useWallet } from 'use-wallet';\nimport config from '../../config';\n\nconst RowNoFlex = styled(AutoRow)`\n  flex-wrap: nowrap;\n`;\n\nexport default function TransactionPopup({\n  hash,\n  success,\n  summary,\n}: {\n  hash: string;\n  success?: boolean;\n  summary?: string;\n}) {\n  const { chainId } = useWallet();\n  const theme = useContext(ThemeContext);\n\n  return (\n    <RowNoFlex>\n      <div style={{ paddingRight: 16 }}>\n        {success ? (\n          <CheckCircle color={theme.color.teal[200]} size={24} />\n        ) : (\n          <AlertCircle color=\"#FF6871\" size={24} />\n        )}\n      </div>\n      <AutoColumn gap=\"8px\">\n        <StyledPopupDesc>\n          {summary ?? 'Hash: ' + hash.slice(0, 8) + '...' + hash.slice(58, 65)}\n        </StyledPopupDesc>\n        {chainId && (\n          <StyledLink href={`${config.etherscanUrl}/tx/${hash}`}>View on Etherscan</StyledLink>\n        )}\n      </AutoColumn>\n    </RowNoFlex>\n  );\n}\n\nconst StyledPopupDesc = styled.span`\n  font-weight: 500;\n  color: ${props => props.theme.color.grey[300]};\n`;\n\nconst StyledLink = styled.a`\n  color: ${props => props.theme.color.grey[500]};\n`;\n","import React, { useCallback, useContext } from 'react';\nimport { AlertCircle, CheckCircle } from 'react-feather';\nimport styled, { ThemeContext } from 'styled-components';\nimport { AutoColumn } from '../Column';\nimport { AutoRow } from '../Row';\nimport { useWallet } from 'use-wallet';\nimport config from '../../config';\n\nconst RowNoFlex = styled(AutoRow)`\n  flex-wrap: nowrap;\n`;\n\nexport default function ErrorPopup({ message, stack }: { message: string; stack: string }) {\n  const copyErrorDetails = useCallback(async () => {\n    await navigator.clipboard.writeText(`${message}\\n${stack}`);\n  }, []);\n\n  return (\n    <RowNoFlex>\n      <div style={{ paddingRight: 16 }}>\n        <AlertCircle color=\"#FF6871\" size={24} />\n      </div>\n      <AutoColumn gap=\"8px\">\n        <StyledPopupDesc>{message}</StyledPopupDesc>\n        <StyledLink onClick={copyErrorDetails} href=\"#\">Copy error details</StyledLink>\n      </AutoColumn>\n    </RowNoFlex>\n  );\n}\n\nconst StyledPopupDesc = styled.span`\n  font-weight: 500;\n  color: ${(props) => props.theme.color.grey[300]};\n`;\n\nconst StyledLink = styled.a`\n  color: ${(props) => props.theme.color.grey[500]};\n`;\n","import React, { useCallback, useContext, useEffect } from 'react';\nimport { X } from 'react-feather';\nimport { useSpring } from 'react-spring/web';\nimport styled, { ThemeContext } from 'styled-components';\nimport { animated } from 'react-spring';\nimport { PopupContent } from '../../state/application/actions';\nimport { useRemovePopup } from '../../state/application/hooks';\nimport TransactionPopup from './TransactionPopup';\nimport ErrorPopup from './ErrorPopup';\n\nexport const StyledClose = styled(X)`\n  position: absolute;\n  right: 10px;\n  top: 10px;\n\n  :hover {\n    cursor: pointer;\n  }\n`;\nexport const Popup = styled.div`\n  display: inline-block;\n  width: 100%;\n  padding: 1em;\n  background-color: ${({ theme }) => theme.color.grey[700]};\n  position: relative;\n  border-radius: 10px;\n  padding: 20px;\n  padding-right: 35px;\n  overflow: hidden;\n\n  @media (max-width: 768px) {\n    min-width: 290px;\n  }\n`;\nconst Fader = styled.div`\n  position: absolute;\n  bottom: 0px;\n  left: 0px;\n  width: 100%;\n  height: 2px;\n  background-color: ${({ theme }) => theme.color.grey[400]};\n`;\n\nconst AnimatedFader = animated(Fader);\n\nexport default function PopupItem({\n  removeAfterMs,\n  content,\n  popKey,\n}: {\n  removeAfterMs: number | null;\n  content: PopupContent;\n  popKey: string;\n}) {\n  const removePopup = useRemovePopup();\n  const removeThisPopup = useCallback(() => removePopup(popKey), [popKey, removePopup]);\n  useEffect(() => {\n    if (removeAfterMs === null) return undefined;\n\n    const timeout = setTimeout(() => {\n      removeThisPopup();\n    }, removeAfterMs);\n\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [removeAfterMs, removeThisPopup]);\n\n  const theme = useContext(ThemeContext);\n\n  let popupContent;\n  if ('txn' in content) {\n    const {\n      txn: { hash, success, summary },\n    } = content;\n    popupContent = <TransactionPopup hash={hash} success={success} summary={summary} />;\n  }\n  if ('error' in content) {\n    const { error: { message, stack } } = content;\n    popupContent = <ErrorPopup message={message} stack={stack} />\n  }\n\n  const faderStyle = useSpring({\n    from: { width: '100%' },\n    to: { width: '0%' },\n    config: { duration: removeAfterMs ?? undefined },\n  });\n\n  return (\n    <Popup>\n      <StyledClose color={theme.text2} onClick={removeThisPopup} />\n      {popupContent}\n      {removeAfterMs !== null ? <AnimatedFader style={faderStyle} /> : null}\n    </Popup>\n  );\n}\n","import React from 'react'\nimport styled from 'styled-components'\nimport { useActivePopups } from '../../state/application/hooks'\nimport { AutoColumn } from '../Column'\nimport PopupItem from './PopupItem'\n\nconst MobilePopupWrapper = styled.div<{ height: string | number }>`\n  position: relative;\n  max-width: 100%;\n  height: ${({ height }) => height};\n  margin: ${({ height }) => (height ? '0 auto;' : 0)};\n  margin-bottom: ${({ height }) => (height ? '20px' : 0)}};\n\n  display: none;\n  @media (max-width: 768px) {\n    display: block;\n  };\n`\n\nconst MobilePopupInner = styled.div`\n  height: 99%;\n  overflow-x: auto;\n  overflow-y: hidden;\n  display: flex;\n  flex-direction: row;\n  -webkit-overflow-scrolling: touch;\n  ::-webkit-scrollbar {\n    display: none;\n  }\n`\n\nconst FixedPopupColumn = styled(AutoColumn)`\n  position: fixed;\n  top: 64px;\n  margin-right: 24px;\n  right: 3rem;\n  max-width: 355px !important;\n  width: 100%;\n  z-index: 2;\n\n  @media (max-width: 768px) {\n    display: none;\n  };\n`\n\nexport default function Popups() {\n  // get all popups\n  const activePopups = useActivePopups()\n\n  return (\n    <>\n      <FixedPopupColumn gap=\"20px\">\n        {activePopups.map(item => (\n          <PopupItem key={item.key} content={item.content} popKey={item.key} removeAfterMs={item.removeAfterMs} />\n        ))}\n      </FixedPopupColumn>\n      <MobilePopupWrapper height={activePopups?.length > 0 ? 'fit-content' : 0}>\n        <MobilePopupInner>\n          {activePopups // reverse so new items up front\n            .slice(0)\n            .reverse()\n            .map(item => (\n              <PopupItem key={item.key} content={item.content} popKey={item.key} removeAfterMs={item.removeAfterMs} />\n            ))}\n        </MobilePopupInner>\n      </MobilePopupWrapper>\n    </>\n  )\n}\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport { ThemeProvider } from 'styled-components';\nimport { UseWalletProvider } from 'use-wallet';\n\nimport BanksProvider from './contexts/Banks';\nimport BasisCashProvider from './contexts/BasisCashProvider';\nimport ModalsProvider from './contexts/Modals';\n\nimport Banks from './views/Banks';\nimport Home from './views/Home';\nimport Bond from './views/Bond';\n\nimport store from './state';\nimport theme from './theme';\nimport config from './config';\nimport Updaters from './state/Updaters';\nimport Boardroom from './views/Boardroom';\nimport Popups from './components/Popups';\n\nconst App: React.FC = () => {\n  return (\n    <Providers>\n      <Router basename=\"/\">\n        <Switch>\n          <Route path=\"/\" exact>\n            <Home />\n          </Route>\n          <Route path=\"/bank\">\n            <Banks />\n          </Route>\n          <Route path=\"/bonds\">\n            <Bond />\n          </Route>\n          <Route path=\"/boardroom\">\n            <Boardroom />\n          </Route>\n        </Switch>\n      </Router>\n    </Providers>\n  );\n};\n\nconst Providers: React.FC = ({ children }) => {\n  return (\n    <ThemeProvider theme={theme}>\n      <UseWalletProvider chainId={config.chainId}>\n        <Provider store={store}>\n          <Updaters />\n          <BasisCashProvider>\n            <ModalsProvider>\n              <BanksProvider>\n                <>\n                  <Popups />\n                  {children}\n                </>\n              </BanksProvider>\n            </ModalsProvider>\n          </BasisCashProvider>\n        </Provider>\n      </UseWalletProvider>\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}